![](https://img.shields.io/badge/version-2.5.0-orange) ![](https://img.shields.io/badge/theme-hope-green) ![](https://img.shields.io/badge/powerby-vuepress-lightgrey?style=flat-square&logo=appveyor) ![](https://img.shields.io/badge/deploy-vercel-lightgrey?style=flat-square&logo=vercel) ![](https://img.shields.io/github/last-commit/oragekk/oragekk.github.io?display_timestamp=committer)

# åšå®¢æºç 

åœ°å€ï¼š[https://weijordan.com](https://weijordan.com)

åŸºäº `vuepress2.x`å’Œ `vuepress-theme-hope`å¼€å‘ï¼ŒåŸºäºTypeScriptä½¿ç”¨vue3ç¼–å†™ç»„ä»¶

## æ¡†æ¶æ”¯æŒ

[vuepress2.x](https://v2.vuepress.vuejs.org/zh/)

## ä¸»é¢˜æ”¯æŒ

[vuepress-theme-hope](https://theme-hope.vuejs.press/zh/)

## è‡ªå®šä¹‰å†…å®¹

åŸºäºåŸä¸»é¢˜è¿›è¡Œäº†ç»§æ‰¿ï¼Œä¸ªæ€§åŒ–å†…å®¹å¦‚ä¸‹ï¼Œä¸»è¦è‡ªå®šä¹‰å†…å®¹åˆ†ä¸º

1. **è‡ªå®šä¹‰å¸ƒå±€**

   - NotFound.vue
   - Layout.vue(å¢åŠ æ‰“èµç»„ä»¶)
   - News.vue(è¯´è¯´åˆ—è¡¨å¸ƒå±€)
2. **è‡ªå®šä¹‰ç»„ä»¶**

   - BlogHero.vue
   - PageFooter.vue
   - Sponsor.vueï¼ˆæ‰“èµç»„ä»¶ï¼‰
   - NewsList.vue ï¼ˆè¯´è¯´åˆ—è¡¨ï¼‰
   - NewsItem.vue ï¼ˆè¯´è¯´itemï¼‰
3. **æ’ä»¶å¼€å‘**

   - vuepress-plugin-canvasï¼ˆæ”¯æŒå½©è™¹èƒŒæ™¯å’ŒåŠ¨æ€å‡ ä½•å›¾å½¢ä¸¤ç§ï¼‰
   - vuepress-plugin-gradient-cover ï¼ˆé®ç½©èƒŒæ™¯ï¼‰
   - vuepress-plugin-hitokoto ï¼ˆä¸€è¨€æ’ä»¶ï¼‰
   - vuepress-plugin-live2DAssist ï¼ˆçœ‹æ¿å¨˜è¾…åŠ©ï¼Œç”±äºå­é¡µæœ‰sidebarï¼Œçœ‹æ¿å¨˜ä¼šæŒ¡ä½ï¼Œæ‰€ä»¥å†™äº†ä¸€ä¸ªå­é¡µéšè—çš„å°ä¸œè¥¿ï¼‰

   <!-- - vuepress-plugin-popper ï¼ˆé¼ æ ‡ç‰¹æ•ˆï¼ŒåŸºäº[@moefy-canvas/theme-popper](https://github.com/moefyit/moefy-canvas)ï¼‰
   - [vuepress-plugin-meting2](https://github.com/OrageKK/vuepress-plugin-meting2) ï¼ˆæ’­æ”¾å™¨æ’ä»¶ï¼Œå¯ä»¥å…¨å±€ä½¿ç”¨å’Œmdæ–‡ä»¶ä½¿ç”¨ï¼‰ -->
4. **å¼•ç”¨å¤–éƒ¨å†…å®¹**

   - [vuepress-plugin-oh-my-live2d](https://github.com/oh-my-live2d/vuepress-plugin-oh-my-live2d) çœ‹æ¿å¨˜æ’ä»¶
   - ä¸è’œå­ç»Ÿè®¡
   - [@moefy-canvas/theme-popper](https://github.com/moefyit/moefy-canvas)åŸæœ‰æ’ä»¶åªæ”¯æŒvuepress1.xï¼Œè‡ªå·±åŸºäºmoefy-canvasè¿›è¡Œäº†æ”¯æŒvuepress2.xçš„æœ¬åœ°åŒ–æ’ä»¶å¼€å‘
   - [@vuepress/plugin-google-analytics](https://v2.vuepress.vuejs.org/zh/reference/plugin/google-analytics.html) æ”¯æŒGoogle Analytics 4 æ­£å¥½çœ‹åˆ°é€šçŸ¥åŸæ¥çš„UAä¹Ÿè¦è¢«å¼ºåˆ¶è½¬æ¢äº†ï¼Œæ‰€ä»¥æ›´æ¢äº†G4
5. **é…ç½®å†…å®¹**

   - navbar
   - sidebar
   - è¯„è®ºåŸºäº [Waline](https://waline.js.org/)
   - æœç´¢åŸºäº[algolia](https://www.algolia.com/developers/?utm_content=powered_by&utm_source=localhost&utm_medium=referral&utm_campaign=docsearch)
   - å¯ç”¨ copyright ç‰ˆæƒä¿¡æ¯æ’ä»¶
   - feed rssæ’ä»¶
   - å¢åŠ æ–‡ç« ç±»å‹-è¯´è¯´ï¼Œä¸ºè¯´è¯´markdownå›¾ç‰‡æ·»åŠ é¢„è§ˆé€‰æ‹©å™¨
6. **é›¶ç¢**

   - è¿è¡Œæ—¶é—´ç»Ÿè®¡
   - CSS æ ·å¼ç¾åŒ–
   - å¼•å…¥å­—ä½“ï¼Œå“å¦‚æ‰‹å†™ä½“ï¼Œå¤è¡Œæ¥·ä½“
   - waline å¢åŠ è‡ªå®šä¹‰emojiï¼Œå¹¶ä¿®æ”¹å±•ç¤ºæ ·å¼
   - ä¸ªæ€§log

   <!-- - è‡ªåŠ¨æ¨é€æ–°æ–‡ç« urlåˆ°æœç´¢å¼•æ“ï¼ˆç™¾åº¦ã€Bingã€Googleï¼‰ğŸ‘‰[è¯¦ç»†é…ç½®](https://weijordan.com/blog/auto-push.html) -->

## ä½¿ç”¨æ–¹å¼

å› æœ¬é¡¹ç›®ä¸ºä¸ªäººé¡¹ç›®ï¼Œå…¶ä¸­æœ‰å¾ˆå¤šä¸ªæ€§åŒ–é…ç½®ï¼Œä¸å»ºè®®ç›´æ¥cloneä½¿ç”¨ï¼Œå¯ä»¥é€‰æ‹©ä½ å–œæ¬¢çš„å†…å®¹æ¨¡å—ï¼ˆæœ¬åœ°æ’ä»¶ã€æœ¬åœ°æ›¿æ¢ç»„ä»¶ï¼‰åˆ°è‡ªå·±é¡¹ç›®ä¸­ä½¿ç”¨

> è¯¦ç»†ä»‹ç»å‚è€ƒï¼š[å…³äºæœ¬ç«™](https://weijodan/about)

## docker-compose éƒ¨ç½²

```
# version: '3'  # docker-composeçš„ç‰ˆæœ¬

services:
  blog_plus: # æœåŠ¡åç§°
    image: weijordan/blog_plus # é•œåƒåç§°
    container_name: blog_plus # å®¹å™¨åç§°
    ports:
      - "3002:80"  # å°†å®¹å™¨çš„80ç«¯å£æ˜ å°„åˆ°å®¿ä¸»æœºçš„8080ç«¯å£
    volumes:
      - /myDocker/blog_plus:/app  # å°†å®¿ä¸»æœºçš„/data/blog_plusç›®å½•æ˜ å°„åˆ°å®¹å™¨å†…çš„/appç›®å½•
    # environment:
    #   - EXAMPLE_VAR=example_value  # å¦‚æœéœ€è¦ï¼Œè®¾ç½®ç¯å¢ƒå˜é‡
    restart: unless-stopped # å®¹å™¨é€€å‡ºæ—¶æ€»æ˜¯é‡å¯
    networks:
      - webnet # åŠ å…¥ç½‘ç»œ

networks:
  webnet: # å®šä¹‰ç½‘ç»œ
  # ä½¿ç”¨å¤–éƒ¨ç½‘ç»œï¼Œå¦‚æœå­˜åœ¨åˆ™ä½¿ç”¨ï¼Œä¸å­˜åœ¨åˆ™åˆ›å»º
    # external: true # å¤–éƒ¨ç½‘ç»œ
    # name: nginx_proxy # ç½‘ç»œåç§°
    # å¦‚æœä¸å­˜åœ¨åˆ™åˆ›å»ºç½‘ç»œ
    # driver: bridge # ç½‘ç»œç±»å‹


  # è¿è¡Œå®¹å™¨
  # docker-compose up -d
  # æ£€æŸ¥è¿è¡Œæƒ…å†µ
  # docker-compose ps
  # åœæ­¢å¹¶ç§»é™¤å®¹å™¨
  # docker-compose down
  # åœæ­¢å®¹å™¨
  # docker-compose stop
  # å¯åŠ¨å®¹å™¨
  # docker-compose start
  # é‡å¯å®¹å™¨
  # docker-compose restart

```

## æœç´¢

algoliaçˆ¬è™«é…ç½®

```
new Crawler({
  appId: "YOUR_APP_ID",
  apiKey: "YOUR_API_KEY",
  rateLimit: 8,

  // è¿™æ˜¯ Algolia å¼€å§‹æŠ“å–ç½‘ç«™çš„åˆå§‹åœ°å€
  // å¦‚æœä½ çš„ç½‘ç«™è¢«åˆ†ä¸ºæ•°ä¸ªç‹¬ç«‹éƒ¨åˆ†ï¼Œä½ å¯èƒ½éœ€è¦åœ¨æ­¤è®¾ç½®å¤šä¸ªå…¥å£é“¾æ¥
  startUrls: ["https://weijordan.com"],

  sitemaps: ["https://weijordan.com/sitemap.xml"],
  ignoreCanonicalTo: false,

  // ä½ å¯ä»¥é€šè¿‡å®ƒé˜»æ­¢ Algolia æŠ“å–æŸäº› URL
  exclusionPatterns: [],

  // è¿™æ˜¯ Algolia æŠ“å– URL çš„èŒƒå›´
  discoveryPatterns: ["https://weijordan.com/**"],

  // çˆ¬è™«æ‰§è¡Œçš„è®¡åˆ’æ—¶é—´ï¼Œå¯æ ¹æ®æ–‡æ¡£æ›´æ–°é¢‘ç‡è®¾ç½®
  schedule: "at 02:00 every 1 day",
  actions: [
    // ä½ å¯ä»¥æ‹¥æœ‰å¤šä¸ª actionï¼Œç‰¹åˆ«æ˜¯ä½ åœ¨ä¸€ä¸ªåŸŸåä¸‹éƒ¨ç½²å¤šä¸ªæ–‡æ¡£æ—¶
    {
      indexName: "YOUR_INDEX_NAME",
      // ç´¢å¼•ç”Ÿæ•ˆçš„è·¯å¾„
      pathsToMatch: ["https://weijordan.com/**"],
      recordExtractor: ({ $, helpers }) => {

        // ä»¥ä¸‹æ˜¯é€‚ç”¨äº vuepress-theme-hope çš„é»˜è®¤é€‰é¡¹é€‰é¡¹
	//è¿™é‡Œéœ€è¦æ ¹æ®ä¸åŒæ¡†æ¶æˆ–è€…æ–‡æ¡£æ¥è¿›è¡Œä¿®æ”¹
        return helpers.docsearch({
          recordProps: {
            lvl0: {
              selectors: [".vp-sidebar-link.active", "h1"], // æ›´é€šç”¨çš„é€‰æ‹©å™¨
              defaultValue: "Documentation",
            },
            lvl1: "h1", // å…·ä½“é€‰æ‹©å™¨
            lvl2: "h2",
            lvl3: "h3",
            lvl4: "h4",
            lvl5: "h5",
            lvl6: "h6",
            content: "p, li, [vp-content] p, [vp-content] li", // æ·»åŠ å¤šä¸ªé€‰æ‹©å™¨
          },
          recordVersion: "v3",
        });
      },
    },
  ],
  initialIndexSettings: {
    YOUR_INDEX_NAME: {
      attributesForFaceting: ["type", "lang"],
      attributesToRetrieve: ["hierarchy", "content", "anchor", "url"],
      attributesToHighlight: ["hierarchy", "hierarchy_camel", "content"],
      attributesToSnippet: ["content:10"],
      camelCaseAttributes: ["hierarchy", "hierarchy_radio", "content"],
      searchableAttributes: [
        "unordered(hierarchy_radio_camel.lvl0)",
        "unordered(hierarchy_radio.lvl0)",
        "unordered(hierarchy_radio_camel.lvl1)",
        "unordered(hierarchy_radio.lvl1)",
        "unordered(hierarchy_radio_camel.lvl2)",
        "unordered(hierarchy_radio.lvl2)",
        "unordered(hierarchy_radio_camel.lvl3)",
        "unordered(hierarchy_radio.lvl3)",
        "unordered(hierarchy_radio_camel.lvl4)",
        "unordered(hierarchy_radio.lvl4)",
        "unordered(hierarchy_radio_camel.lvl5)",
        "unordered(hierarchy_radio.lvl5)",
        "unordered(hierarchy_radio_camel.lvl6)",
        "unordered(hierarchy_radio.lvl6)",
        "unordered(hierarchy_camel.lvl0)",
        "unordered(hierarchy.lvl0)",
        "unordered(hierarchy_camel.lvl1)",
        "unordered(hierarchy.lvl1)",
        "unordered(hierarchy_camel.lvl2)",
        "unordered(hierarchy.lvl2)",
        "unordered(hierarchy_camel.lvl3)",
        "unordered(hierarchy.lvl3)",
        "unordered(hierarchy_camel.lvl4)",
        "unordered(hierarchy.lvl4)",
        "unordered(hierarchy_camel.lvl5)",
        "unordered(hierarchy.lvl5)",
        "unordered(hierarchy_camel.lvl6)",
        "unordered(hierarchy.lvl6)",
        "content",
      ],
      distinct: true,
      attributeForDistinct: "url",
      customRanking: [
        "desc(weight.pageRank)",
        "desc(weight.level)",
        "asc(weight.position)",
      ],
      ranking: [
        "words",
        "filters",
        "typo",
        "attribute",
        "proximity",
        "exact",
        "custom",
      ],
      highlightPreTag: '<span class="algolia-docsearch-suggestion--highlight">',
      highlightPostTag: "</span>",
      minWordSizefor1Typo: 3,
      minWordSizefor2Typos: 7,
      allowTyposOnNumericTokens: false,
      minProximity: 1,
      ignorePlurals: true,
      advancedSyntax: true,
      attributeCriteriaComputedByMinProximity: true,
      removeWordsIfNoResults: "allOptional",
    },
  },
});
```

## æ‹‰å–è¯­é›€æ–‡æ¡£
package.json æ–‡ä»¶é‡Œä¿®æ”¹ 
"type": "module", æ”¹ä¸º "type": "commonjs",

è¿è¡ŒæŒ‡ä»¤
elog sync -e .elog.env

æ‹‰å–å®Œæˆä»¥å
å†æ¬¡ä¿®æ”¹å›æ¥
"type": "commonjs", æ”¹ä¸º "type": "module",

## æ›´æ–°è¯­é›€æ–‡æ¡£æ ¼å¼é€‚é…åšå®¢çš„FrontMatter
updateFrontMatter.js