import{_ as l,o as e,c as p,a,d as i,f as n,b as s}from"./app-Doat5Ok8.js";const r={},o=n('<p>文档</p><p><a href="https://www.yuque.com/leifengyang/sutong/au0lv3sv3eldsmn8" target="_blank" rel="noopener noreferrer">https://www.yuque.com/leifengyang/sutong/au0lv3sv3eldsmn8</a></p><p>视频</p><p><a href="https://www.bilibili.com/video/BV1Bg4fesE9K?spm_id_from=333.788.player.switch&amp;vd_source=ac6ab4c3cdc5d0193edf55fd77ba0b4f&amp;p=9" target="_blank" rel="noopener noreferrer">https://www.bilibili.com/video/BV1Bg4fesE9K?spm_id_from=333.788.player.switch&amp;vd_source=ac6ab4c3cdc5d0193edf55fd77ba0b4f&amp;p=9</a></p><p>Vagrant下载 <a href="https://www.vagrantup.com/downloads.html" target="_blank" rel="noopener noreferrer">https://www.vagrantup.com/downloads.html</a></p><p>Virtualbox 5.1下载 <a href="https://www.virtualbox.org/wiki/Download_Old_Builds_5_1" target="_blank" rel="noopener noreferrer">https://www.virtualbox.org/wiki/Download_Old_Builds_5_1</a></p><p>Docker国内源安装 <a href="https://get.daocloud.io/#install-docker" target="_blank" rel="noopener noreferrer">https://get.daocloud.io/#install-docker</a></p><p>Docker官方网站 <a href="https://www.docker.com/" target="_blank" rel="noopener noreferrer">https://www.docker.com/</a></p><p>Docker官方文档中心 <a href="https://docs.docker.com/" target="_blank" rel="noopener noreferrer">https://docs.docker.com/</a></p><p>DockerHub <a href="https://hub.docker.com/" target="_blank" rel="noopener noreferrer">https://hub.docker.com/</a></p>',10),c=n(`<h2 id="安装" tabindex="-1"><a class="header-anchor" href="#安装"><span>安装</span></a></h2><p>国内常见云平台：</p><blockquote><p><a href="https://promotion.aliyun.com/ntms/act/ambassador/sharetouser.html?userCode=50sid5bu&amp;utm_source=50sid5bu" target="_blank" rel="noopener noreferrer">阿里云</a>、<br><a href="https://curl.qcloud.com/iyFTRSJb" target="_blank" rel="noopener noreferrer">腾讯云</a>、<br><a href="https://activity.huaweicloud.com/discount_area_v5/index.html?fromacct=d1a6f32e-d6d0-4702-9213-eafe022a0708&amp;utm_source=bGVpZmVuZ3lhbmc==&amp;utm_medium=cps&amp;utm_campaign=201905" target="_blank" rel="noopener noreferrer">华为云</a>、<br><a href="https://www.qingcloud.com/" target="_blank" rel="noopener noreferrer">青云</a>......</p></blockquote><blockquote><p>使用 CentOS 7.9</p><p>WindTerm下载：<a href="https://github.com/kingToolbox/WindTerm/releases/download/2.6.0/WindTerm_2.6.1_Windows_Portable_x86_64.zip" target="_blank" rel="noopener noreferrer">https://github.com/kingToolbox/WindTerm/releases/download/2.6.0/WindTerm_2.6.1_Windows_Portable_x86_64.zip</a></p></blockquote><div class="language-javascript line-numbers-mode" data-ext="javascript" data-title="javascript"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"># </span><span style="color:#E06C75;--shiki-dark:#E06C75;">移除旧版本docker</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">sudo</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> yum</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> remove</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> docker</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> \\</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">                  docker</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">-</span><span style="color:#E06C75;--shiki-dark:#E06C75;">client</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> \\</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">                  docker</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">-</span><span style="color:#E06C75;--shiki-dark:#E06C75;">client</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">-</span><span style="color:#E06C75;--shiki-dark:#E06C75;">latest</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> \\</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">                  docker</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">-</span><span style="color:#E06C75;--shiki-dark:#E06C75;">common</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> \\</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">                  docker</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">-</span><span style="color:#E06C75;--shiki-dark:#E06C75;">latest</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> \\</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">                  docker</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">-</span><span style="color:#E06C75;--shiki-dark:#E06C75;">latest</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">-</span><span style="color:#E06C75;--shiki-dark:#E06C75;">logrotate</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> \\</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">                  docker</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">-</span><span style="color:#E06C75;--shiki-dark:#E06C75;">logrotate</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> \\</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">                  docker</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">-</span><span style="color:#E06C75;--shiki-dark:#E06C75;">engine</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"># </span><span style="color:#E06C75;--shiki-dark:#E06C75;">配置docker</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> yum源</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">。</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">sudo</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> yum</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> install</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> -</span><span style="color:#E06C75;--shiki-dark:#E06C75;">y</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> yum</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">-</span><span style="color:#E06C75;--shiki-dark:#E06C75;">utils</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">sudo</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> yum</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">-</span><span style="color:#E06C75;--shiki-dark:#E06C75;">config</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">-</span><span style="color:#E06C75;--shiki-dark:#E06C75;">manager</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> \\</span></span>
<span class="line"><span style="color:#56B6C2;--shiki-dark:#56B6C2;">--</span><span style="color:#E06C75;--shiki-dark:#E06C75;">add</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">-</span><span style="color:#E06C75;--shiki-dark:#E06C75;">repo</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> \\</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">http</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">//mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"># </span><span style="color:#E06C75;--shiki-dark:#E06C75;">安装</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> 最新</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> docker</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">sudo</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> yum</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> install</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> -</span><span style="color:#E06C75;--shiki-dark:#E06C75;">y</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> docker</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">-</span><span style="color:#E06C75;--shiki-dark:#E06C75;">ce</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> docker</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">-</span><span style="color:#E06C75;--shiki-dark:#E06C75;">ce</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">-</span><span style="color:#E06C75;--shiki-dark:#E06C75;">cli</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> containerd</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#E06C75;--shiki-dark:#E06C75;">io</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> docker</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">-</span><span style="color:#E06C75;--shiki-dark:#E06C75;">buildx</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">-</span><span style="color:#E06C75;--shiki-dark:#E06C75;">plugin</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> docker</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">-</span><span style="color:#E06C75;--shiki-dark:#E06C75;">compose</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">-</span><span style="color:#E06C75;--shiki-dark:#E06C75;">plugin</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"># </span><span style="color:#E06C75;--shiki-dark:#E06C75;">启动</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">&amp;</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> 开机启动docker</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">； </span><span style="color:#E06C75;--shiki-dark:#E06C75;">enable</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> +</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> start</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> 二合一</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">systemctl</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> enable</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> docker</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> --</span><span style="color:#E06C75;--shiki-dark:#E06C75;">now</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"># </span><span style="color:#E06C75;--shiki-dark:#E06C75;">配置加速</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">sudo</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> mkdir</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> -</span><span style="color:#E06C75;--shiki-dark:#E06C75;">p</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> /</span><span style="color:#E06C75;--shiki-dark:#E06C75;">etc</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">/</span><span style="color:#E06C75;--shiki-dark:#E06C75;">docker</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">sudo</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> tee</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> /</span><span style="color:#E06C75;--shiki-dark:#E06C75;">etc</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">/</span><span style="color:#E06C75;--shiki-dark:#E06C75;">docker</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">/</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">daemon</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#E06C75;--shiki-dark:#E06C75;">json</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> &lt;&lt;-</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;EOF&#39;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">    &quot;registry-mirrors&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: [</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">        &quot;https://registry.dockermirror.com&quot;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    ]</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;">EOF</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">sudo</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> systemctl</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> daemon</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">-</span><span style="color:#E06C75;--shiki-dark:#E06C75;">reload</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">sudo</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> systemctl</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> restart</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> docker</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,5),d=s("h2",{id:"介绍",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#介绍"},[s("span",null,"介绍")])],-1),t=s("figure",null,[s("img",{src:"https://cdn.nlark.com/yuque/0/2024/png/45821596/1729820157097-f84ac46a-bae4-4aac-88f6-0d0b67dd0887.png",alt:"",tabindex:"0",loading:"lazy"}),s("figcaption")],-1),k=s("figure",null,[s("img",{src:"https://cdn.nlark.com/yuque/0/2024/png/45821596/1729820926847-7bca161b-aa59-476d-81a6-4578da3305c9.png",alt:"",tabindex:"0",loading:"lazy"}),s("figcaption")],-1),B=s("h2",{id:"命令操作",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#命令操作"},[s("span",null,"命令操作")])],-1),h=n('<h3 id="总结" tabindex="-1"><a class="header-anchor" href="#总结"><span>总结</span></a></h3><figure><img src="https://cdn.nlark.com/yuque/0/2024/png/45821596/1729842975229-600137ef-e82d-4ce3-88e6-8720fb6d6840.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><figure><img src="https://cdn.nlark.com/yuque/0/2024/png/45821596/1729843036525-38dae0e4-a003-493e-b910-6aa5140370e2.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><figure><img src="https://cdn.nlark.com/yuque/0/2024/png/45821596/1729824003973-83e7b023-d9e8-4d31-bfa6-f7d612277131.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure>',4),y=s("h3",{id:"镜像",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#镜像"},[s("span",null,"镜像")])],-1),C=s("p",null,"检素docker search",-1),E=s("p",null,"下载docker pull",-1),m=s("p",null,"列表docker images",-1),u=s("p",null,"删除docker rmi",-1),v=n('<h3 id="容器" tabindex="-1"><a class="header-anchor" href="#容器"><span>容器</span></a></h3><p>运行：docker run</p><p>查看：docker ps</p><p>停止：docker stop</p><p>启动：docker start</p><p>重启：dockerrestart</p><p>状态：dockerstats</p><p>日志：docker logs</p><p>进入：docker exec</p><p>删除docker rm</p>',10),A=n(`<h3 id="分享" tabindex="-1"><a class="header-anchor" href="#分享"><span>分享</span></a></h3><p>提交：docker commit</p><p>保存：docker save</p><p>加载：docker load</p><p>登录docker login</p><p>命名：docker tag</p><p>推送docker push</p><div class="language-javascript line-numbers-mode" data-ext="javascript" data-title="javascript"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">#</span><span style="color:#E06C75;--shiki-dark:#E06C75;">查看运行中的容器</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">docker</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> ps</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">#</span><span style="color:#E06C75;--shiki-dark:#E06C75;">查看所有容器</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">docker</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> ps</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> -</span><span style="color:#E06C75;--shiki-dark:#E06C75;">a</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">#</span><span style="color:#E06C75;--shiki-dark:#E06C75;">搜索镜像</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">docker</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> search</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> nginx</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">#</span><span style="color:#E06C75;--shiki-dark:#E06C75;">下载镜像</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">docker</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> pull</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> nginx</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">#</span><span style="color:#E06C75;--shiki-dark:#E06C75;">下载指定版本镜像</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">docker</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> pull</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> nginx</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span><span style="color:#D19A66;--shiki-dark:#D19A66;">1.26</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#D19A66;--shiki-dark:#D19A66;">0</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">#</span><span style="color:#E06C75;--shiki-dark:#E06C75;">查看所有镜像</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">docker</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> images</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">#</span><span style="color:#E06C75;--shiki-dark:#E06C75;">删除指定id的镜像</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">docker</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> rmi</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> e784f4560448</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">#</span><span style="color:#E06C75;--shiki-dark:#E06C75;">运行一个新容器</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">docker</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> run</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> nginx</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">#</span><span style="color:#E06C75;--shiki-dark:#E06C75;">停止容器</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">docker</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> stop</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> keen_blackwell</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">#</span><span style="color:#E06C75;--shiki-dark:#E06C75;">启动容器</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">docker</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> start</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 592</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">#</span><span style="color:#E06C75;--shiki-dark:#E06C75;">重启容器</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">docker</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> restart</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 592</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">#</span><span style="color:#E06C75;--shiki-dark:#E06C75;">查看容器资源占用情况</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">docker</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> stats</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 592</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">#</span><span style="color:#E06C75;--shiki-dark:#E06C75;">查看容器日志</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">docker</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> logs</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 592</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">#</span><span style="color:#E06C75;--shiki-dark:#E06C75;">删除指定容器</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">docker</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> rm</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 592</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">#</span><span style="color:#E06C75;--shiki-dark:#E06C75;">强制删除指定容器</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">docker</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> rm</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> -</span><span style="color:#E06C75;--shiki-dark:#E06C75;">f</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 592</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"># </span><span style="color:#E06C75;--shiki-dark:#E06C75;">后台启动容器</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">docker</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> run</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> -</span><span style="color:#E06C75;--shiki-dark:#E06C75;">d</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> --</span><span style="color:#E06C75;--shiki-dark:#E06C75;">name</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> mynginx</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> nginx</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"># </span><span style="color:#E06C75;--shiki-dark:#E06C75;">后台启动并暴露端口</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">docker</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> run</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> -</span><span style="color:#E06C75;--shiki-dark:#E06C75;">d</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> --</span><span style="color:#E06C75;--shiki-dark:#E06C75;">name</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> mynginx</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> -</span><span style="color:#E06C75;--shiki-dark:#E06C75;">p</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 80</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span><span style="color:#D19A66;--shiki-dark:#D19A66;">80</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> nginx</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"># </span><span style="color:#E06C75;--shiki-dark:#E06C75;">进入容器内部</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">docker</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> exec</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> -</span><span style="color:#E06C75;--shiki-dark:#E06C75;">it</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> mynginx</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> /</span><span style="color:#E06C75;--shiki-dark:#E06C75;">bin</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">/</span><span style="color:#E06C75;--shiki-dark:#E06C75;">bash</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"># </span><span style="color:#E06C75;--shiki-dark:#E06C75;">提交容器变化打成一个新的镜像</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">docker</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> commit</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> -</span><span style="color:#E06C75;--shiki-dark:#E06C75;">m</span><span style="color:#98C379;--shiki-dark:#98C379;"> &quot;update index.html&quot;</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> mynginx</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> mynginx</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span><span style="color:#E06C75;--shiki-dark:#E06C75;">v1</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#D19A66;--shiki-dark:#D19A66;">0</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"># </span><span style="color:#E06C75;--shiki-dark:#E06C75;">保存镜像为指定文件</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">docker</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> save</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> -</span><span style="color:#E06C75;--shiki-dark:#E06C75;">o</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> mynginx</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#E06C75;--shiki-dark:#E06C75;">tar</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> mynginx</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span><span style="color:#E06C75;--shiki-dark:#E06C75;">v1</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#D19A66;--shiki-dark:#D19A66;">0</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"># </span><span style="color:#E06C75;--shiki-dark:#E06C75;">删除多个镜像</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">docker</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> rmi</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> bde7d154a67f</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> 94543</span><span style="color:#E06C75;--shiki-dark:#E06C75;">a6c1aef</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> e784f4560448</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"># </span><span style="color:#E06C75;--shiki-dark:#E06C75;">加载镜像</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">docker</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> load</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> -</span><span style="color:#E06C75;--shiki-dark:#E06C75;">i</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> mynginx</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#E06C75;--shiki-dark:#E06C75;">tar</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> </span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"># </span><span style="color:#E06C75;--shiki-dark:#E06C75;">登录</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> docker</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> hub</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">docker</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> login</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"># </span><span style="color:#E06C75;--shiki-dark:#E06C75;">重新给镜像打标签</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">docker</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> tag</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> mynginx</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span><span style="color:#E06C75;--shiki-dark:#E06C75;">v1</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#D19A66;--shiki-dark:#D19A66;">0</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> leifengyang</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">/</span><span style="color:#E06C75;--shiki-dark:#E06C75;">mynginx</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span><span style="color:#E06C75;--shiki-dark:#E06C75;">v1</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#D19A66;--shiki-dark:#D19A66;">0</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"># </span><span style="color:#E06C75;--shiki-dark:#E06C75;">推送镜像</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">docker</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> push</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> leifengyang</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">/</span><span style="color:#E06C75;--shiki-dark:#E06C75;">mynginx</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span><span style="color:#E06C75;--shiki-dark:#E06C75;">v1</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#D19A66;--shiki-dark:#D19A66;">0</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>下载镜像</p><figure><img src="https://cdn.nlark.com/yuque/0/2024/png/45821596/1729822414283-735d890e-3d38-4958-b30c-eb431b71fab2.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>启动容器</p><figure><img src="https://cdn.nlark.com/yuque/0/2024/png/45821596/1729822572918-b6498af7-9650-48fb-a590-c8c1a300f259.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>修改页面</p><figure><img src="https://cdn.nlark.com/yuque/0/2024/png/45821596/1729823211587-3ca1f057-5716-4a79-a6ee-ad43af898e05.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>保存镜像</p><figure><img src="https://cdn.nlark.com/yuque/0/2024/png/45821596/1729823263526-081a8901-a0de-4330-81d0-cbd5574c2933.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><figure><img src="https://cdn.nlark.com/yuque/0/2024/png/45821596/1729823360471-767e723a-a9ab-4471-a326-2476ecda413c.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>分享社区</p><figure><img src="https://cdn.nlark.com/yuque/0/2024/png/45821596/1729823909584-d858562b-6868-4fac-9646-050eb01f75ef.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>登录</p><figure><img src="https://cdn.nlark.com/yuque/0/2024/png/45821596/1729823568218-864c1420-08b9-43e5-a494-f9d427708901.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>改名</p><figure><img src="https://cdn.nlark.com/yuque/0/2024/png/45821596/1729823642450-bdc8d369-391c-4506-95b9-a2cf9b4b12d1.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>推送</p><figure><img src="https://cdn.nlark.com/yuque/0/2024/png/45821596/1729823675695-3e79129d-b384-45bb-857a-e2ba328b7030.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>做一个最新的版本镜像</p><figure><img src="https://cdn.nlark.com/yuque/0/2024/png/45821596/1729823852355-31778881-ff22-4a8c-a052-abaeab331e63.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure>`,27),b=n('<h2 id="批量删除容器" tabindex="-1"><a class="header-anchor" href="#批量删除容器"><span>批量删除容器</span></a></h2><figure><img src="https://cdn.nlark.com/yuque/0/2024/png/45821596/1729824260846-0a4f8797-9f89-4db1-898a-030e97dee986.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>查询所有容器id</p><p>docker ps -aq</p><p>删除所有容器id</p><p>docker rm $(docker ps -aq)</p><p>强制删除所有容器id</p><p>docker rm -f $(docker ps -aq)</p><h2 id="Pk6cw">存储-目录挂载</h2>',9),F=n(`<p>删除容器不会影响主机,再次进行挂载时,容器会同步修改内容配置</p><div class="language-javascript" data-ext="javascript" data-title="javascript"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">docker</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> run</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> -</span><span style="color:#E06C75;--shiki-dark:#E06C75;">d</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> -</span><span style="color:#E06C75;--shiki-dark:#E06C75;">p</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 99</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span><span style="color:#D19A66;--shiki-dark:#D19A66;">80</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> \\</span></span>
<span class="line"><span style="color:#56B6C2;--shiki-dark:#56B6C2;">-</span><span style="color:#E06C75;--shiki-dark:#E06C75;">v</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> /</span><span style="color:#E06C75;--shiki-dark:#E06C75;">app</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">/</span><span style="color:#E06C75;--shiki-dark:#E06C75;">nghtml</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">/</span><span style="color:#E06C75;--shiki-dark:#E06C75;">usr</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">/</span><span style="color:#E06C75;--shiki-dark:#E06C75;">share</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">/</span><span style="color:#E06C75;--shiki-dark:#E06C75;">nginx</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">/</span><span style="color:#E06C75;--shiki-dark:#E06C75;">html</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> \\</span></span>
<span class="line"><span style="color:#56B6C2;--shiki-dark:#56B6C2;">-</span><span style="color:#E06C75;--shiki-dark:#E06C75;">v</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> ngconf</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">/</span><span style="color:#E06C75;--shiki-dark:#E06C75;">etc</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">/</span><span style="color:#E06C75;--shiki-dark:#E06C75;">nginx</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> \\</span></span>
<span class="line"><span style="color:#56B6C2;--shiki-dark:#56B6C2;">--</span><span style="color:#E06C75;--shiki-dark:#E06C75;">name</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> app03</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> \\</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">nginx</span></span></code></pre></div><figure><img src="https://cdn.nlark.com/yuque/0/2024/png/45821596/1729824736408-497e0409-012d-40b8-860e-33804865e36b.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>问题</p><figure><img src="https://cdn.nlark.com/yuque/0/2024/png/45821596/1729825217573-29f2c35d-df08-4278-8b8c-6a130aa74d7b.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>目录挂载：-v/app/nghtml::/usr/share/,nginx/html</p>`,6),g=s("h2",{id:"存储-卷映射",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#存储-卷映射"},[s("span",null,"存储-卷映射")])],-1),f=s("figure",null,[s("img",{src:"https://cdn.nlark.com/yuque/0/2024/png/45821596/1729825360574-09f63dec-1107-4576-bf4e-4d5c5a7a6aa0.png",alt:"",tabindex:"0",loading:"lazy"}),s("figcaption")],-1),_=s("p",null,"卷映射：-v ngconf::/etc/nginx",-1),q=s("p",null,"卷目录位置: /var/lib/docker/volumes/",-1),D=n('<h2 id="docker-网络-自定义网络" tabindex="-1"><a class="header-anchor" href="#docker-网络-自定义网络"><span>Docker 网络-自定义网络</span></a></h2><figure><img src="https://cdn.nlark.com/yuque/0/2024/png/45821596/1729843668483-dad2f425-fbe5-424f-b312-8a6fccb470e7.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>即容器内的网络互相交互</p><p>容器创建时候会创建 docker0 他们共用一个网关,互相之间通过分配的docker0 进行交互</p><p>通过 ip 的话ip 如果有改变就不太好,最好的方式是通过域名</p><figure><img src="https://cdn.nlark.com/yuque/0/2024/png/45821596/1729826351879-59292c26-da80-4297-816b-19705adc3502.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><figure><img src="https://cdn.nlark.com/yuque/0/2024/png/45821596/1729826389787-30d08075-4f37-4370-be67-8cda5a640ae9.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure>',7),S=n('<h3 id="创建自定义网络" tabindex="-1"><a class="header-anchor" href="#创建自定义网络"><span>创建自定义网络</span></a></h3><p>docker network create mynet</p><figure><img src="https://cdn.nlark.com/yuque/0/2024/png/45821596/1729844076692-2e3e2d7c-6535-4c87-8131-ad28a9718741.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><figure><img src="https://cdn.nlark.com/yuque/0/2024/png/45821596/1729842817870-2364e2f2-ebe9-4c1e-ae68-2d34da54dfee.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><figure><img src="https://cdn.nlark.com/yuque/0/2024/png/45821596/1729826493511-9f41b24b-d563-44b8-9223-c593e37bb4b7.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><figure><img src="https://cdn.nlark.com/yuque/0/2024/png/45821596/1729826538580-fcf64b07-a338-4860-a1be-8b5f7629dd08.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure>',6),w=s("h3",{id:"将容器加入网络",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#将容器加入网络"},[s("span",null,"将容器加入网络")])],-1),x=s("p",null,"docker run -d -p 99:80 --name app2 --network mynet nginx",-1),R=s("figure",null,[s("img",{src:"https://cdn.nlark.com/yuque/0/2024/png/45821596/1729826605358-25165241-b3dc-4a49-9a97-e33b236b32f7.png",alt:"",tabindex:"0",loading:"lazy"}),s("figcaption")],-1),O=n('<h3 id="则两容器的-ip-都在同一个网段下" tabindex="-1"><a class="header-anchor" href="#则两容器的-ip-都在同一个网段下"><span>则两容器的 ip 都在同一个网段下</span></a></h3><p>docker inspect app1</p><figure><img src="https://cdn.nlark.com/yuque/0/2024/png/45821596/1729826675604-7cbb9579-80ea-4ff4-b209-82c0570eaaa2.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><figure><img src="https://cdn.nlark.com/yuque/0/2024/png/45821596/1729826689171-13e1322c-d39f-477b-86ea-17af33bfddb7.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>容器之间 就可以通过 容器名来访问</p><figure><img src="https://cdn.nlark.com/yuque/0/2024/png/45821596/1729826876391-3b58ea97-90d9-410b-90e6-e2775121c8f3.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure>',6),T=n(`<h2 id="网络-redis-主从集群" tabindex="-1"><a class="header-anchor" href="#网络-redis-主从集群"><span>网络-Redis-主从集群</span></a></h2><figure><img src="https://cdn.nlark.com/yuque/0/2024/png/45821596/1729827157273-df3895ed-6f46-4d73-95e2-20bf55530b2c.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><div class="language-javascript line-numbers-mode" data-ext="javascript" data-title="javascript"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">#</span><span style="color:#E06C75;--shiki-dark:#E06C75;">自定义网络</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">docker</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> network</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> create</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> mynet</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">#</span><span style="color:#E06C75;--shiki-dark:#E06C75;">主节点</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">docker</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> run</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> -</span><span style="color:#E06C75;--shiki-dark:#E06C75;">d</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> -</span><span style="color:#E06C75;--shiki-dark:#E06C75;">p</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 6379</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span><span style="color:#D19A66;--shiki-dark:#D19A66;">6379</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> \\</span></span>
<span class="line"><span style="color:#56B6C2;--shiki-dark:#56B6C2;">-</span><span style="color:#E06C75;--shiki-dark:#E06C75;">v</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> /</span><span style="color:#E06C75;--shiki-dark:#E06C75;">app</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">/</span><span style="color:#E06C75;--shiki-dark:#E06C75;">rd1</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">/</span><span style="color:#E06C75;--shiki-dark:#E06C75;">bitnami</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">/</span><span style="color:#E06C75;--shiki-dark:#E06C75;">redis</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">/</span><span style="color:#E06C75;--shiki-dark:#E06C75;">data</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> \\</span></span>
<span class="line"><span style="color:#56B6C2;--shiki-dark:#56B6C2;">-</span><span style="color:#E06C75;--shiki-dark:#E06C75;">e</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> REDIS_REPLICATION_MODE</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#E06C75;--shiki-dark:#E06C75;">master</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> \\</span></span>
<span class="line"><span style="color:#56B6C2;--shiki-dark:#56B6C2;">-</span><span style="color:#E06C75;--shiki-dark:#E06C75;">e</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> REDIS_PASSWORD</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#D19A66;--shiki-dark:#D19A66;">123456</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> \\</span></span>
<span class="line"><span style="color:#56B6C2;--shiki-dark:#56B6C2;">--</span><span style="color:#E06C75;--shiki-dark:#E06C75;">network</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> mynet</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> --</span><span style="color:#E06C75;--shiki-dark:#E06C75;">name</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> redis01</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> \\</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">bitnami</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">/</span><span style="color:#E06C75;--shiki-dark:#E06C75;">redis</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">#</span><span style="color:#E06C75;--shiki-dark:#E06C75;">从节点</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">docker</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> run</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> -</span><span style="color:#E06C75;--shiki-dark:#E06C75;">d</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> -</span><span style="color:#E06C75;--shiki-dark:#E06C75;">p</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 6380</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span><span style="color:#D19A66;--shiki-dark:#D19A66;">6379</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> \\</span></span>
<span class="line"><span style="color:#56B6C2;--shiki-dark:#56B6C2;">-</span><span style="color:#E06C75;--shiki-dark:#E06C75;">v</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> /</span><span style="color:#E06C75;--shiki-dark:#E06C75;">app</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">/</span><span style="color:#E06C75;--shiki-dark:#E06C75;">rd2</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">/</span><span style="color:#E06C75;--shiki-dark:#E06C75;">bitnami</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">/</span><span style="color:#E06C75;--shiki-dark:#E06C75;">redis</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">/</span><span style="color:#E06C75;--shiki-dark:#E06C75;">data</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> \\</span></span>
<span class="line"><span style="color:#56B6C2;--shiki-dark:#56B6C2;">-</span><span style="color:#E06C75;--shiki-dark:#E06C75;">e</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> REDIS_REPLICATION_MODE</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#E06C75;--shiki-dark:#E06C75;">slave</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> \\</span></span>
<span class="line"><span style="color:#56B6C2;--shiki-dark:#56B6C2;">-</span><span style="color:#E06C75;--shiki-dark:#E06C75;">e</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> REDIS_MASTER_HOST</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#E06C75;--shiki-dark:#E06C75;">redis01</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> \\</span></span>
<span class="line"><span style="color:#56B6C2;--shiki-dark:#56B6C2;">-</span><span style="color:#E06C75;--shiki-dark:#E06C75;">e</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> REDIS_MASTER_PORT_NUMBER</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#D19A66;--shiki-dark:#D19A66;">6379</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> \\</span></span>
<span class="line"><span style="color:#56B6C2;--shiki-dark:#56B6C2;">-</span><span style="color:#E06C75;--shiki-dark:#E06C75;">e</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> REDIS_MASTER_PASSWORD</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#D19A66;--shiki-dark:#D19A66;">123456</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> \\</span></span>
<span class="line"><span style="color:#56B6C2;--shiki-dark:#56B6C2;">-</span><span style="color:#E06C75;--shiki-dark:#E06C75;">e</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> REDIS_PASSWORD</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#D19A66;--shiki-dark:#D19A66;">123456</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> \\</span></span>
<span class="line"><span style="color:#56B6C2;--shiki-dark:#56B6C2;">--</span><span style="color:#E06C75;--shiki-dark:#E06C75;">network</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> mynet</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> --</span><span style="color:#E06C75;--shiki-dark:#E06C75;">name</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> redis02</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> \\</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">bitnami</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">/</span><span style="color:#E06C75;--shiki-dark:#E06C75;">redis</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>如果没有权限,则给其打开</p><figure><img src="https://cdn.nlark.com/yuque/0/2024/png/45821596/1729827361948-c0a9ae9e-df19-4b93-abfd-fef705316374.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure>`,5),L=n(`<h2 id="启动mysql" tabindex="-1"><a class="header-anchor" href="#启动mysql"><span>启动MySQL</span></a></h2><div class="language-javascript" data-ext="javascript" data-title="javascript"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">docker</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> run</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> -</span><span style="color:#E06C75;--shiki-dark:#E06C75;">d</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> -</span><span style="color:#E06C75;--shiki-dark:#E06C75;">p</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 3306</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span><span style="color:#D19A66;--shiki-dark:#D19A66;">3306</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> \\</span></span>
<span class="line"><span style="color:#56B6C2;--shiki-dark:#56B6C2;">-</span><span style="color:#E06C75;--shiki-dark:#E06C75;">v</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> /</span><span style="color:#E06C75;--shiki-dark:#E06C75;">app</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">/</span><span style="color:#E06C75;--shiki-dark:#E06C75;">myconf</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">/</span><span style="color:#E06C75;--shiki-dark:#E06C75;">etc</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">/</span><span style="color:#E06C75;--shiki-dark:#E06C75;">mysql</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">/</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">conf</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#E06C75;--shiki-dark:#E06C75;">d</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> \\</span></span>
<span class="line"><span style="color:#56B6C2;--shiki-dark:#56B6C2;">-</span><span style="color:#E06C75;--shiki-dark:#E06C75;">v</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> /</span><span style="color:#E06C75;--shiki-dark:#E06C75;">app</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">/</span><span style="color:#E06C75;--shiki-dark:#E06C75;">mydata</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">/</span><span style="color:#C678DD;--shiki-dark:#C678DD;">var</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">/</span><span style="color:#E06C75;--shiki-dark:#E06C75;">lib</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">/mysql \\</span></span>
<span class="line"><span style="color:#56B6C2;--shiki-dark:#56B6C2;">-</span><span style="color:#E06C75;--shiki-dark:#E06C75;">e</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> MYSQL_ROOT_PASSWORD</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#D19A66;--shiki-dark:#D19A66;">123456</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> \\</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">mysql</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span><span style="color:#D19A66;--shiki-dark:#D19A66;">8.0</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#D19A66;--shiki-dark:#D19A66;">37</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">-</span><span style="color:#E06C75;--shiki-dark:#E06C75;">debian</span></span></code></pre></div>`,2),N=s("h2",{id:"docker-compose",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#docker-compose"},[s("span",null,"Docker Compose")])],-1),P=s("figure",null,[s("img",{src:"https://cdn.nlark.com/yuque/0/2024/png/45821596/1729828233448-a6b535d3-9d8f-4606-a31e-4c41bb583310.png",alt:"",tabindex:"0",loading:"lazy"}),s("figcaption")],-1),z=s("h3",{id:"案例启动-wordpress",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#案例启动-wordpress"},[s("span",null,"案例启动 wordpress")])],-1),M=s("figure",null,[s("img",{src:"https://cdn.nlark.com/yuque/0/2024/png/45821596/1729828327988-e3d9052e-20ce-4c6b-a06c-89f5b065bb3f.png",alt:"",tabindex:"0",loading:"lazy"}),s("figcaption")],-1),I=n(`<h3 id="命令式安装" tabindex="-1"><a class="header-anchor" href="#命令式安装"><span>命令式安装</span></a></h3><p>建议</p><p>compose.yaml</p><div class="language-javascript line-numbers-mode" data-ext="javascript" data-title="javascript"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">name</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#E06C75;--shiki-dark:#E06C75;">myblog</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">services</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">  mysql</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    container_name</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#E06C75;--shiki-dark:#E06C75;">mysql</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    image</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#E06C75;--shiki-dark:#E06C75;">mysql</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span><span style="color:#D19A66;--shiki-dark:#D19A66;">8.0</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    ports</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#56B6C2;--shiki-dark:#56B6C2;">      -</span><span style="color:#98C379;--shiki-dark:#98C379;"> &quot;3306:3306&quot;</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    environment</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#56B6C2;--shiki-dark:#56B6C2;">      -</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> MYSQL_ROOT_PASSWORD</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#D19A66;--shiki-dark:#D19A66;">123456</span></span>
<span class="line"><span style="color:#56B6C2;--shiki-dark:#56B6C2;">      -</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> MYSQL_DATABASE</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#E06C75;--shiki-dark:#E06C75;">wordpress</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    volumes</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#56B6C2;--shiki-dark:#56B6C2;">      -</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> mysql</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">-</span><span style="color:#E06C75;--shiki-dark:#E06C75;">data</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">/</span><span style="color:#C678DD;--shiki-dark:#C678DD;">var</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">/</span><span style="color:#E06C75;--shiki-dark:#E06C75;">lib</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">/mysql</span></span>
<span class="line"><span style="color:#56B6C2;--shiki-dark:#56B6C2;">      -</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> /</span><span style="color:#E06C75;--shiki-dark:#E06C75;">app</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">/</span><span style="color:#E06C75;--shiki-dark:#E06C75;">myconf</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">/</span><span style="color:#E06C75;--shiki-dark:#E06C75;">etc</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">/</span><span style="color:#E06C75;--shiki-dark:#E06C75;">mysql</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">/</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">conf</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#E06C75;--shiki-dark:#E06C75;">d</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    restart</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#E06C75;--shiki-dark:#E06C75;">always</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    networks</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#56B6C2;--shiki-dark:#56B6C2;">      -</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> blog</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">  wordpress</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    image</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#E06C75;--shiki-dark:#E06C75;">wordpress</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    ports</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#56B6C2;--shiki-dark:#56B6C2;">      -</span><span style="color:#98C379;--shiki-dark:#98C379;"> &quot;8080:80&quot;</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    environment</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">      WORDPRESS_DB_HOST</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#E06C75;--shiki-dark:#E06C75;">mysql</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">      WORDPRESS_DB_USER</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#E06C75;--shiki-dark:#E06C75;">root</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">      WORDPRESS_DB_PASSWORD</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#D19A66;--shiki-dark:#D19A66;">123456</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">      WORDPRESS_DB_NAME</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#E06C75;--shiki-dark:#E06C75;">wordpress</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    volumes</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#56B6C2;--shiki-dark:#56B6C2;">      -</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> wordpress</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">/</span><span style="color:#C678DD;--shiki-dark:#C678DD;">var</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">/</span><span style="color:#E06C75;--shiki-dark:#E06C75;">www</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">/html</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    restart</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#E06C75;--shiki-dark:#E06C75;">always</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    networks</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#56B6C2;--shiki-dark:#56B6C2;">      -</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> blog</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    depends_on</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#56B6C2;--shiki-dark:#56B6C2;">      -</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> mysql</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">volumes</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">  mysql</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">-</span><span style="color:#E06C75;--shiki-dark:#E06C75;">data</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">  wordpress</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">networks</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">  blog</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,4),j=n(`<h3 id="compose-yaml" tabindex="-1"><a class="header-anchor" href="#compose-yaml"><span>compose.yaml</span></a></h3><figure><img src="https://cdn.nlark.com/yuque/0/2024/png/45821596/1729828611337-4c041ca6-06d7-4604-9206-aed137fd886b.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><div class="language-javascript line-numbers-mode" data-ext="javascript" data-title="javascript"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">name</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#E06C75;--shiki-dark:#E06C75;">myblog</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">services</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">  mysql</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    container_name</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#E06C75;--shiki-dark:#E06C75;">mysql</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    image</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#E06C75;--shiki-dark:#E06C75;">mysql</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span><span style="color:#D19A66;--shiki-dark:#D19A66;">8.0</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    ports</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#56B6C2;--shiki-dark:#56B6C2;">      -</span><span style="color:#98C379;--shiki-dark:#98C379;"> &quot;3306:3306&quot;</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    environment</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#56B6C2;--shiki-dark:#56B6C2;">      -</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> MYSQL_ROOT_PASSWORD</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#D19A66;--shiki-dark:#D19A66;">123456</span></span>
<span class="line"><span style="color:#56B6C2;--shiki-dark:#56B6C2;">      -</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> MYSQL_DATABASE</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#E06C75;--shiki-dark:#E06C75;">wordpress</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    volumes</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#56B6C2;--shiki-dark:#56B6C2;">      -</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> mysql</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">-</span><span style="color:#E06C75;--shiki-dark:#E06C75;">data</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">/</span><span style="color:#C678DD;--shiki-dark:#C678DD;">var</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">/</span><span style="color:#E06C75;--shiki-dark:#E06C75;">lib</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">/mysql</span></span>
<span class="line"><span style="color:#56B6C2;--shiki-dark:#56B6C2;">      -</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> /</span><span style="color:#E06C75;--shiki-dark:#E06C75;">app</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">/</span><span style="color:#E06C75;--shiki-dark:#E06C75;">myconf</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">/</span><span style="color:#E06C75;--shiki-dark:#E06C75;">etc</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">/</span><span style="color:#E06C75;--shiki-dark:#E06C75;">mysql</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">/</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">conf</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#E06C75;--shiki-dark:#E06C75;">d</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    restart</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#E06C75;--shiki-dark:#E06C75;">always</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    networks</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#56B6C2;--shiki-dark:#56B6C2;">      -</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> blog</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">  wordpress</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    image</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#E06C75;--shiki-dark:#E06C75;">wordpress</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    ports</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#56B6C2;--shiki-dark:#56B6C2;">      -</span><span style="color:#98C379;--shiki-dark:#98C379;"> &quot;8080:80&quot;</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    environment</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">      WORDPRESS_DB_HOST</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#E06C75;--shiki-dark:#E06C75;">mysql</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">      WORDPRESS_DB_USER</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#E06C75;--shiki-dark:#E06C75;">root</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">      WORDPRESS_DB_PASSWORD</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#D19A66;--shiki-dark:#D19A66;">123456</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">      WORDPRESS_DB_NAME</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#E06C75;--shiki-dark:#E06C75;">wordpress</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    volumes</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#56B6C2;--shiki-dark:#56B6C2;">      -</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> wordpress</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">/</span><span style="color:#C678DD;--shiki-dark:#C678DD;">var</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">/</span><span style="color:#E06C75;--shiki-dark:#E06C75;">www</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">/html</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    restart</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#E06C75;--shiki-dark:#E06C75;">always</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    networks</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#56B6C2;--shiki-dark:#56B6C2;">      -</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> blog</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    depends_on</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#56B6C2;--shiki-dark:#56B6C2;">      -</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> mysql</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">volumes</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">  mysql</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">-</span><span style="color:#E06C75;--shiki-dark:#E06C75;">data</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">  wordpress</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">networks</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">  blog</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://cdn.nlark.com/yuque/0/2024/png/45821596/1729828981962-bb167b21-f475-4b02-8bfb-6c069dbb346e.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>粘贴进去</p><figure><img src="https://cdn.nlark.com/yuque/0/2024/png/45821596/1729828995369-210f0330-788d-48c0-8d6a-ee75bb6cf17a.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>启动</p><p>docker compose -f compose.yaml up -d</p><p>移除容器,但是没有移除卷和镜像</p><p>docker compose -f compose.yaml down</p><p>移除包括卷和镜像</p><p>docker compose -f compose.yaml down --rmi all -v</p><p>docker compose只会修改你变动过的文件</p><figure><img src="https://cdn.nlark.com/yuque/0/2024/png/45821596/1729829072343-22c1713e-f318-4e35-a96a-10956befc356.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure>`,14),V=s("h2",{id:"特性",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#特性"},[s("span",null,"特性")])],-1),K=s("ul",null,[s("li",null,[i("增量更新 "),s("ul",null,[s("li",null,"修改 Docker Compose 文件。重新启动应用。只会触发修改项的重新启动。")])]),s("li",null,[i("数据不删 "),s("ul",null,[s("li",null,"默认就算down了容器，所有挂载的卷不会被移除。比较安全")])])],-1),U=n(`<h2 id="dockerfile-制作镜像" tabindex="-1"><a class="header-anchor" href="#dockerfile-制作镜像"><span>Dockerfile-制作镜像</span></a></h2><div class="language-javascript" data-ext="javascript" data-title="javascript"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;">FROM</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> openjdk</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span><span style="color:#D19A66;--shiki-dark:#D19A66;">17</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;">LABEL</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> author</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#E06C75;--shiki-dark:#E06C75;">leifengyang</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;">COPY</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> app</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#E06C75;--shiki-dark:#E06C75;">jar</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> /</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">app</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#E06C75;--shiki-dark:#E06C75;">jar</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;">EXPOSE</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 8080</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;">ENTRYPOINT</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> [</span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;java&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;-jar&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;/app.jar&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">]</span></span></code></pre></div><p>构建</p><p>docker build -f Dockerfile -t myjavaapp:v1.0</p><figure><img src="https://cdn.nlark.com/yuque/0/2024/png/45821596/1729838007863-23de8313-e497-4f41-bbaa-afe9a75a9429.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>制作镜像官网</p><p><a href="https://docs.docker.com/reference/dockerfile/" target="_blank" rel="noopener noreferrer">https://docs.docker.com/reference/dockerfile/</a></p><figure><img src="https://cdn.nlark.com/yuque/0/2024/png/45821596/1729838024691-77752112-fc16-4a17-bad1-d2060b028b2d.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure>`,8),W=n('<h3 id="dockerfile-镜像分层机制" tabindex="-1"><a class="header-anchor" href="#dockerfile-镜像分层机制"><span>Dockerfile-镜像分层机制</span></a></h3><figure><img src="https://cdn.nlark.com/yuque/0/2024/png/45821596/1729838734007-ea86baaf-bcdb-43cd-8de6-38f0a069cfa7.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><figure><img src="https://cdn.nlark.com/yuque/0/2024/png/45821596/1729838815396-e1620653-a0fa-4ec5-b6e1-62c4d76de1d2.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><figure><img src="https://cdn.nlark.com/yuque/0/2024/png/45821596/1729838844467-db29b02f-c74b-4bb3-a8a2-0a3d5beb669f.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure>',4),Y=n(`<h2 id="附录-1-一键安装超多中间件" tabindex="-1"><a class="header-anchor" href="#附录-1-一键安装超多中间件"><span>附录 - 1. 一键安装超多中间件</span></a></h2><p>一键安装这些组件,使用下面的 yaml 文件</p><p>选择需要的使用</p><figure><img src="https://cdn.nlark.com/yuque/0/2024/png/45821596/1729838872259-9532501b-3a43-431e-8b8c-00c1cc61dd60.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>前置操作</p><div class="language-yaml line-numbers-mode" data-ext="yaml" data-title="yaml"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">#Disable memory paging and swapping performance</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">sudo swapoff -a</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Edit the sysctl config file</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">sudo vi /etc/sysctl.conf</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Add a line to define the desired value</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># or change the value if the key exists,</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># and then save your changes.</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">vm.max_map_count=262144</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Reload the kernel parameters using sysctl</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">sudo sysctl -p</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Verify that the change was applied by checking the value</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">cat /proc/sys/vm/max_map_count</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>然后准备一个 compose.yaml 文件</p><figure><img src="https://cdn.nlark.com/yuque/0/2024/png/45821596/1729839047874-a069f2c9-1a61-412a-bfb3-d427faddbf65.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure>`,8),Q=n(`<h2 id="yaml" tabindex="-1"><a class="header-anchor" href="#yaml"><span>yaml</span></a></h2><p>注意：</p><ul><li>将下面文件中 <code>kafka</code> 的 <code>&lt;font style=&quot;color:rgb(0, 0, 0);background-color:rgb(242, 244, 248);&quot;&gt;119.45.147.122&lt;/font&gt;</code> 改为你自己的服务器IP。</li><li>所有容器都做了时间同步，这样容器的时间和linux主机的时间就一致了</li></ul><p>准备一个 <code>compose.yaml</code>文件，内容如下：</p><div class="language-yaml line-numbers-mode" data-ext="yaml" data-title="yaml"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">name</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">devsoft</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">services</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">  redis</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    image</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">bitnami/redis:latest</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    restart</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">always</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    container_name</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">redis</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    environment</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">REDIS_PASSWORD=123456</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    ports</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;6379:6379&#39;</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    volumes</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">redis-data:/bitnami/redis/data</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">redis-conf:/opt/bitnami/redis/mounted-etc</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">/etc/localtime:/etc/localtime:ro</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">  mysql</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    image</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">mysql:8.0.31</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    restart</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">always</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    container_name</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">mysql</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    environment</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">MYSQL_ROOT_PASSWORD=123456</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    ports</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;3306:3306&#39;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;33060:33060&#39;</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    volumes</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">mysql-conf:/etc/mysql/conf.d</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">mysql-data:/var/lib/mysql</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">/etc/localtime:/etc/localtime:ro</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">  rabbit</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    image</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">rabbitmq:3-management</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    restart</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">always</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    container_name</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">rabbitmq</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    ports</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;5672:5672&quot;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;15672:15672&quot;</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    environment</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">RABBITMQ_DEFAULT_USER=rabbit</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">RABBITMQ_DEFAULT_PASS=rabbit</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">RABBITMQ_DEFAULT_VHOST=dev</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    volumes</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">rabbit-data:/var/lib/rabbitmq</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">rabbit-app:/etc/rabbitmq</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">/etc/localtime:/etc/localtime:ro</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">  opensearch-node1</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    image</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">opensearchproject/opensearch:2.13.0</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    container_name</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">opensearch-node1</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    environment</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">cluster.name=opensearch-cluster</span><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"> # Name the cluster</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">node.name=opensearch-node1</span><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"> # Name the node that will run in this container</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">discovery.seed_hosts=opensearch-node1,opensearch-node2</span><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"> # Nodes to look for when discovering the cluster</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">cluster.initial_cluster_manager_nodes=opensearch-node1,opensearch-node2</span><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"> # Nodes eligibile to serve as cluster manager</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">bootstrap.memory_lock=true</span><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"> # Disable JVM heap memory swapping</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;OPENSEARCH_JAVA_OPTS=-Xms512m -Xmx512m&quot;</span><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"> # Set min and max JVM heap sizes to at least 50% of system RAM</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;DISABLE_INSTALL_DEMO_CONFIG=true&quot;</span><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"> # Prevents execution of bundled demo script which installs demo certificates and security configurations to OpenSearch</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;DISABLE_SECURITY_PLUGIN=true&quot;</span><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"> # Disables Security plugin</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    ulimits</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">      memlock</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">        soft</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#D19A66;--shiki-dark:#D19A66;">-1</span><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"> # Set memlock to unlimited (no soft or hard limit)</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">        hard</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#D19A66;--shiki-dark:#D19A66;">-1</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">      nofile</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">        soft</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#D19A66;--shiki-dark:#D19A66;">65536</span><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"> # Maximum number of open files for the opensearch user - set to at least 65536</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">        hard</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#D19A66;--shiki-dark:#D19A66;">65536</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    volumes</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">opensearch-data1:/usr/share/opensearch/data</span><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"> # Creates volume called opensearch-data1 and mounts it to the container</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">/etc/localtime:/etc/localtime:ro</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    ports</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">9200:9200</span><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"> # REST API</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">9600:9600</span><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"> # Performance Analyzer</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">  opensearch-node2</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    image</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">opensearchproject/opensearch:2.13.0</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    container_name</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">opensearch-node2</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    environment</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">cluster.name=opensearch-cluster</span><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"> # Name the cluster</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">node.name=opensearch-node2</span><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"> # Name the node that will run in this container</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">discovery.seed_hosts=opensearch-node1,opensearch-node2</span><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"> # Nodes to look for when discovering the cluster</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">cluster.initial_cluster_manager_nodes=opensearch-node1,opensearch-node2</span><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"> # Nodes eligibile to serve as cluster manager</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">bootstrap.memory_lock=true</span><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"> # Disable JVM heap memory swapping</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;OPENSEARCH_JAVA_OPTS=-Xms512m -Xmx512m&quot;</span><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"> # Set min and max JVM heap sizes to at least 50% of system RAM</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;DISABLE_INSTALL_DEMO_CONFIG=true&quot;</span><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"> # Prevents execution of bundled demo script which installs demo certificates and security configurations to OpenSearch</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;DISABLE_SECURITY_PLUGIN=true&quot;</span><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"> # Disables Security plugin</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    ulimits</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">      memlock</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">        soft</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#D19A66;--shiki-dark:#D19A66;">-1</span><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"> # Set memlock to unlimited (no soft or hard limit)</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">        hard</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#D19A66;--shiki-dark:#D19A66;">-1</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">      nofile</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">        soft</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#D19A66;--shiki-dark:#D19A66;">65536</span><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"> # Maximum number of open files for the opensearch user - set to at least 65536</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">        hard</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#D19A66;--shiki-dark:#D19A66;">65536</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    volumes</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">/etc/localtime:/etc/localtime:ro</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">opensearch-data2:/usr/share/opensearch/data</span><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"> # Creates volume called opensearch-data2 and mounts it to the container</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">  opensearch-dashboards</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    image</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">opensearchproject/opensearch-dashboards:2.13.0</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    container_name</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">opensearch-dashboards</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    ports</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">5601:5601</span><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"> # Map host port 5601 to container port 5601</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    expose</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;5601&quot;</span><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"> # Expose port 5601 for web access to OpenSearch Dashboards</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    environment</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;OPENSEARCH_HOSTS=[&quot;http://opensearch-node1:9200&quot;,&quot;http://opensearch-node2:9200&quot;]&#39;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;DISABLE_SECURITY_DASHBOARDS_PLUGIN=true&quot;</span><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"> # disables security dashboards plugin in OpenSearch Dashboards</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    volumes</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">/etc/localtime:/etc/localtime:ro</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">  zookeeper</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    image</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">bitnami/zookeeper:3.9</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    container_name</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">zookeeper</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    restart</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">always</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    ports</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;2181:2181&quot;</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    volumes</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;zookeeper_data:/bitnami&quot;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">/etc/localtime:/etc/localtime:ro</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    environment</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">ALLOW_ANONYMOUS_LOGIN=yes</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">  kafka</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    image</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;bitnami/kafka:3.4&#39;</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    container_name</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">kafka</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    restart</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">always</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    hostname</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">kafka</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    ports</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;9092:9092&#39;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;9094:9094&#39;</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    environment</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">KAFKA_CFG_NODE_ID=0</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">KAFKA_CFG_PROCESS_ROLES=controller,broker</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">KAFKA_CFG_LISTENERS=PLAINTEXT://:9092,CONTROLLER://:9093,EXTERNAL://0.0.0.0:9094</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">KAFKA_CFG_ADVERTISED_LISTENERS=PLAINTEXT://kafka:9092,EXTERNAL://119.45.147.122:9094</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">KAFKA_CFG_LISTENER_SECURITY_PROTOCOL_MAP=CONTROLLER:PLAINTEXT,EXTERNAL:PLAINTEXT,PLAINTEXT:PLAINTEXT</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">KAFKA_CFG_CONTROLLER_QUORUM_VOTERS=0@kafka:9093</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">KAFKA_CFG_CONTROLLER_LISTENER_NAMES=CONTROLLER</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">ALLOW_PLAINTEXT_LISTENER=yes</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;KAFKA_HEAP_OPTS=-Xmx512m -Xms512m&quot;</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    volumes</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">kafka-conf:/bitnami/kafka/config</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">kafka-data:/bitnami/kafka/data</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">/etc/localtime:/etc/localtime:ro</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">  kafka-ui</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    container_name</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">kafka-ui</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    image</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">provectuslabs/kafka-ui:latest</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    restart</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">always</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    ports</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">8080:8080</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    environment</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">      DYNAMIC_CONFIG_ENABLED</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#D19A66;--shiki-dark:#D19A66;">true</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">      KAFKA_CLUSTERS_0_NAME</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">kafka-dev</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">      KAFKA_CLUSTERS_0_BOOTSTRAPSERVERS</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">kafka:9092</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    volumes</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">kafkaui-app:/etc/kafkaui</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">/etc/localtime:/etc/localtime:ro</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">  nacos</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    image</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">nacos/nacos-server:v2.3.1</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    container_name</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">nacos</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    ports</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">8848:8848</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">9848:9848</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    environment</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">PREFER_HOST_MODE=hostname</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">MODE=standalone</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">JVM_XMX=512m</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">JVM_XMS=512m</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">SPRING_DATASOURCE_PLATFORM=mysql</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">MYSQL_SERVICE_HOST=nacos-mysql</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">MYSQL_SERVICE_DB_NAME=nacos_devtest</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">MYSQL_SERVICE_PORT=3306</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">MYSQL_SERVICE_USER=nacos</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">MYSQL_SERVICE_PASSWORD=nacos</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">MYSQL_SERVICE_DB_PARAM=characterEncoding=utf8&amp;connectTimeout=1000&amp;socketTimeout=3000&amp;autoReconnect=true&amp;useUnicode=true&amp;useSSL=false&amp;serverTimezone=Asia/Shanghai&amp;allowPublicKeyRetrieval=true</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">NACOS_AUTH_IDENTITY_KEY=2222</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">NACOS_AUTH_IDENTITY_VALUE=2xxx</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">NACOS_AUTH_TOKEN=SecretKey012345678901234567890123456789012345678901234567890123456789</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">NACOS_AUTH_ENABLE=true</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    volumes</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">/app/nacos/standalone-logs/:/home/nacos/logs</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">/etc/localtime:/etc/localtime:ro</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    depends_on</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">      nacos-mysql</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">        condition</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">service_healthy</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">  nacos-mysql</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    container_name</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">nacos-mysql</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    build</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">      context</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#D19A66;--shiki-dark:#D19A66;">.</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">      dockerfile_inline</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#C678DD;--shiki-dark:#C678DD;">|</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">        FROM mysql:8.0.31</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">        ADD https://raw.githubusercontent.com/alibaba/nacos/2.3.2/distribution/conf/mysql-schema.sql /docker-entrypoint-initdb.d/nacos-mysql.sql</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">        RUN chown -R mysql:mysql /docker-entrypoint-initdb.d/nacos-mysql.sql</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">        EXPOSE 3306</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">        CMD [&quot;mysqld&quot;, &quot;--character-set-server=utf8mb4&quot;, &quot;--collation-server=utf8mb4_unicode_ci&quot;]</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    image</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">nacos/mysql:8.0.30</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    environment</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">MYSQL_ROOT_PASSWORD=root</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">MYSQL_DATABASE=nacos_devtest</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">MYSQL_USER=nacos</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">MYSQL_PASSWORD=nacos</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">LANG=C.UTF-8</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    volumes</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">nacos-mysqldata:/var/lib/mysql</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">/etc/localtime:/etc/localtime:ro</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    ports</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;13306:3306&quot;</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    healthcheck</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">      test</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: [ </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;CMD&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;mysqladmin&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> ,</span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;ping&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;-h&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;localhost&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> ]</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">      interval</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">5s</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">      timeout</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">10s</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">      retries</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#D19A66;--shiki-dark:#D19A66;">10</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">  prometheus</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    image</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">prom/prometheus:v2.52.0</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    container_name</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">prometheus</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    restart</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">always</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    ports</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">9090:9090</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    volumes</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">prometheus-data:/prometheus</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">prometheus-conf:/etc/prometheus</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">/etc/localtime:/etc/localtime:ro</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">  grafana</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    image</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">grafana/grafana:10.4.2</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    container_name</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">grafana</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    restart</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">always</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    ports</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">3000:3000</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    volumes</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">grafana-data:/var/lib/grafana</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">/etc/localtime:/etc/localtime:ro</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">volumes</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">  redis-data</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">  redis-conf</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">  mysql-conf</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">  mysql-data</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">  rabbit-data</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">  rabbit-app</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">  opensearch-data1</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">  opensearch-data2</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">  nacos-mysqldata</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">  zookeeper_data</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">  kafka-conf</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">  kafka-data</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">  kafkaui-app</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">  prometheus-data</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">  prometheus-conf</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">  grafana-data</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,5),X=n(`<h2 id="启动" tabindex="-1"><a class="header-anchor" href="#启动"><span>启动</span></a></h2><div class="language-yaml" data-ext="yaml" data-title="yaml"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># 在 compose.yaml 文件所在的目录下执行</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">docker compose up -d</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># 等待启动所有容器</span></span></code></pre></div><div class="hint-container info"><p class="hint-container-title">相关信息</p><p>tip：如果重启了服务器，可能有些容器会启动失败。再执行一遍 <code>docker compose up -d</code>即可。所有程序都可运行成功，并且不会丢失数据。请放心使用。</p></div>`,3),G=n('<h2 id="访问" tabindex="-1"><a class="header-anchor" href="#访问"><span>访问</span></a></h2><p>如果不会,看视频访问操作</p><p><a href="https://www.bilibili.com/video/BV1Bg4fesE9K?spm_id_from=333.788.player.switch&amp;vd_source=ac6ab4c3cdc5d0193edf55fd77ba0b4f&amp;p=24" target="_blank" rel="noopener noreferrer">https://www.bilibili.com/video/BV1Bg4fesE9K?spm_id_from=333.788.player.switch&amp;vd_source=ac6ab4c3cdc5d0193edf55fd77ba0b4f&amp;p=24</a></p><ul><li>zookeeper可视化工具下载： <ul><li><a href="https://github.com/vran-dev/PrettyZoo/releases/download/v2.1.1/prettyZoo-win.zip" target="_blank" rel="noopener noreferrer">https://github.com/vran-dev/PrettyZoo/releases/download/v2.1.1/prettyZoo-win.zip</a></li></ul></li><li>redis可视化工具下载： <ul><li><a href="https://github.com/qishibo/AnotherRedisDesktopManager/releases/download/v1.6.4/Another-Redis-Desktop-Manager.1.6.4.exe" target="_blank" rel="noopener noreferrer">https://github.com/qishibo/AnotherRedisDesktopManager/releases/download/v1.6.4/Another-Redis-Desktop-Manager.1.6.4.exe</a></li></ul></li></ul><table><thead><tr><th>组件（容器名）</th><th>介绍</th><th>访问地址</th><th>账号/密码</th><th>特性</th></tr></thead><tbody><tr><td>Redis(redis)</td><td>k-v 库</td><td>你的ip:6379</td><td>单密码模式：123456</td><td>已开启AOF</td></tr><tr><td>MySQL(mysql)</td><td>数据库</td><td>你的ip:3306</td><td>root/123456</td><td>默认utf8mb4字符集</td></tr><tr><td>Rabbit(rabbit)</td><td>消息队列</td><td>你的ip:15672</td><td>rabbit/rabbit</td><td>暴露5672和15672端口</td></tr><tr><td>OpenSearch(opensearch-node1/2)</td><td>检索引擎</td><td>你的ip:9200</td><td></td><td>内存512mb；两个节点</td></tr><tr><td>opensearch-dashboards</td><td>search可视化</td><td>你的ip:5601</td><td></td><td></td></tr><tr><td>Zookeeper(zookeeper)</td><td>分布式协调</td><td>你的ip:2181</td><td></td><td>允许匿名登录</td></tr><tr><td>kafka(kafka)</td><td>消息队列</td><td>你的ip:9092 外部访问:9094</td><td></td><td>占用内存512mb</td></tr><tr><td>kafka-ui(kafka-ui)</td><td>kafka可视化</td><td>你的ip:8080</td><td></td><td></td></tr><tr><td>nacos(nacos)</td><td>注册/配置中心</td><td>你的ip:8848</td><td>nacos/nacos</td><td>持久化数据到MySQL</td></tr><tr><td>nacos-mysql(nacos-mysql)</td><td>nacos配套数据库</td><td>你的ip:13306</td><td>root/root</td><td></td></tr><tr><td>prometheus(prometheus)</td><td>时序数据库</td><td>你的ip:9090</td><td></td><td></td></tr><tr><td>grafana(grafana)</td><td></td><td>你的ip:3000</td><td>admin/admin</td><td></td></tr><tr><td></td><td></td><td></td><td></td><td></td></tr></tbody></table>',5),H=s("h2",{id:"销毁实例",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#销毁实例"},[s("span",null,"销毁实例")])],-1),Z=s("p",null,"如果是用服务器去开启docker的,如果不需要用,记得去 云服务器 销毁实例,避免多余计费",-1),J=s("p",null,"结语",-1),$=s("figure",null,[s("img",{src:"https://cdn.nlark.com/yuque/0/2024/png/45821596/1729839709312-9e14e455-6e76-4bc9-bdc1-40a3c0577ba2.png",alt:"",tabindex:"0",loading:"lazy"}),s("figcaption")],-1);function ss(as,ns){return e(),p("div",null,[o,a(' <h2 id="crz9q">安装</h2> '),c,a(' <h2 id="wXF7E">介绍</h2> '),d,t,k,a(' <h2 id="Lael5">命令操作</h2> '),B,a(' <h3 id="adW4p">总结</h3> '),h,a(' <h4 id="e81Zx">镜像</h4> '),y,C,E,m,u,a(' <h4 id="hJLda">容器</h4> '),v,a(' <h4 id="rXSpc">分享</h4> '),A,a(' <h2 id="Q9rJP">批量删除容器</h2> '),b,i(" 将容器和linux主机挂载 "),F,a(' <h2 id="DfP5A">存储-卷映射</h2> '),g,f,_,q,a(' <h2 id="h4Var">Docker 网络-自定义网络</h2> '),D,a(' <h4 id="sKOUu">创建自定义网络</h4> '),S,a(' <h4 id="zm8a6">将容器加入网络</h4> '),w,x,R,a(' <h4 id="U2F8c">则两容器的 ip 都在同一个网段下</h4> '),O,a(' <h2 id="osg5j">网络-Redis-主从集群</h2> '),T,a(' <h2 id="GFyvB">启动MySQL</h2> '),L,a(' <h2 id="tGh0V">Docker Compose</h2> '),N,P,a(' <h3 id="TFyZ1">案例启动 wordpress</h3> '),z,M,a(' <h3 id="sN6zZ">命令式安装</h3> '),I,a(' <h3 id="bVhl6">compose.yaml</h3> '),j,a(' <h2 id="EO2TZ">特性</h2> '),V,K,a(' <h2 id="ESRAe">Dockerfile-制作镜像</h2> '),U,a(' <h3 id="dekHS">Dockerfile-镜像分层机制</h3> '),W,a(' <h2 id="X2zt2">附录 - 1. 一键安装超多中间件</h2> '),Y,a(' <h2 id="emc7H">yaml</h2> '),Q,a(' <h2 id="YU7xG">启动</h2> '),X,a(' <h2 id="T8mps">访问</h2> '),G,a(' <h2 id="eGWug">销毁实例</h2> '),H,Z,J,$])}const ls=l(r,[["render",ss],["__file","Docker 学习.html.vue"]]),es=JSON.parse('{"path":"/posts/%E8%BF%90%E7%BB%B4/docker/Docker%20%E5%AD%A6%E4%B9%A0.html","title":"Docker 学习","lang":"zh-CN","frontmatter":{"title":"Docker 学习","icon":"loop","date":"2024-10-25T00:00:00.000Z","category":["Docker"],"tag":["Docker"],"dir":{"order":2},"description":"文档 https://www.yuque.com/leifengyang/sutong/au0lv3sv3eldsmn8 视频 https://www.bilibili.com/video/BV1Bg4fesE9K?spm_id_from=333.788.player.switch&vd_source=ac6ab4c3cdc5d0193edf55fd7...","head":[["meta",{"property":"og:url","content":"https://weijordan.com/posts/%E8%BF%90%E7%BB%B4/docker/Docker%20%E5%AD%A6%E4%B9%A0.html"}],["meta",{"property":"og:site_name","content":"Mr.子冥"}],["meta",{"property":"og:title","content":"Docker 学习"}],["meta",{"property":"og:description","content":"文档 https://www.yuque.com/leifengyang/sutong/au0lv3sv3eldsmn8 视频 https://www.bilibili.com/video/BV1Bg4fesE9K?spm_id_from=333.788.player.switch&vd_source=ac6ab4c3cdc5d0193edf55fd7..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://cdn.nlark.com/yuque/0/2024/png/45821596/1729820157097-f84ac46a-bae4-4aac-88f6-0d0b67dd0887.png"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-10-30T10:04:57.000Z"}],["meta",{"property":"article:author","content":"子冥"}],["meta",{"property":"article:tag","content":"Docker"}],["meta",{"property":"article:published_time","content":"2024-10-25T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-10-30T10:04:57.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Docker 学习\\",\\"image\\":[\\"https://cdn.nlark.com/yuque/0/2024/png/45821596/1729820157097-f84ac46a-bae4-4aac-88f6-0d0b67dd0887.png\\",\\"https://cdn.nlark.com/yuque/0/2024/png/45821596/1729820926847-7bca161b-aa59-476d-81a6-4578da3305c9.png\\",\\"https://cdn.nlark.com/yuque/0/2024/png/45821596/1729842975229-600137ef-e82d-4ce3-88e6-8720fb6d6840.png\\",\\"https://cdn.nlark.com/yuque/0/2024/png/45821596/1729843036525-38dae0e4-a003-493e-b910-6aa5140370e2.png\\",\\"https://cdn.nlark.com/yuque/0/2024/png/45821596/1729824003973-83e7b023-d9e8-4d31-bfa6-f7d612277131.png\\",\\"https://cdn.nlark.com/yuque/0/2024/png/45821596/1729822414283-735d890e-3d38-4958-b30c-eb431b71fab2.png\\",\\"https://cdn.nlark.com/yuque/0/2024/png/45821596/1729822572918-b6498af7-9650-48fb-a590-c8c1a300f259.png\\",\\"https://cdn.nlark.com/yuque/0/2024/png/45821596/1729823211587-3ca1f057-5716-4a79-a6ee-ad43af898e05.png\\",\\"https://cdn.nlark.com/yuque/0/2024/png/45821596/1729823263526-081a8901-a0de-4330-81d0-cbd5574c2933.png\\",\\"https://cdn.nlark.com/yuque/0/2024/png/45821596/1729823360471-767e723a-a9ab-4471-a326-2476ecda413c.png\\",\\"https://cdn.nlark.com/yuque/0/2024/png/45821596/1729823909584-d858562b-6868-4fac-9646-050eb01f75ef.png\\",\\"https://cdn.nlark.com/yuque/0/2024/png/45821596/1729823568218-864c1420-08b9-43e5-a494-f9d427708901.png\\",\\"https://cdn.nlark.com/yuque/0/2024/png/45821596/1729823642450-bdc8d369-391c-4506-95b9-a2cf9b4b12d1.png\\",\\"https://cdn.nlark.com/yuque/0/2024/png/45821596/1729823675695-3e79129d-b384-45bb-857a-e2ba328b7030.png\\",\\"https://cdn.nlark.com/yuque/0/2024/png/45821596/1729823852355-31778881-ff22-4a8c-a052-abaeab331e63.png\\",\\"https://cdn.nlark.com/yuque/0/2024/png/45821596/1729824260846-0a4f8797-9f89-4db1-898a-030e97dee986.png\\",\\"https://cdn.nlark.com/yuque/0/2024/png/45821596/1729824736408-497e0409-012d-40b8-860e-33804865e36b.png\\",\\"https://cdn.nlark.com/yuque/0/2024/png/45821596/1729825217573-29f2c35d-df08-4278-8b8c-6a130aa74d7b.png\\",\\"https://cdn.nlark.com/yuque/0/2024/png/45821596/1729825360574-09f63dec-1107-4576-bf4e-4d5c5a7a6aa0.png\\",\\"https://cdn.nlark.com/yuque/0/2024/png/45821596/1729843668483-dad2f425-fbe5-424f-b312-8a6fccb470e7.png\\",\\"https://cdn.nlark.com/yuque/0/2024/png/45821596/1729826351879-59292c26-da80-4297-816b-19705adc3502.png\\",\\"https://cdn.nlark.com/yuque/0/2024/png/45821596/1729826389787-30d08075-4f37-4370-be67-8cda5a640ae9.png\\",\\"https://cdn.nlark.com/yuque/0/2024/png/45821596/1729844076692-2e3e2d7c-6535-4c87-8131-ad28a9718741.png\\",\\"https://cdn.nlark.com/yuque/0/2024/png/45821596/1729842817870-2364e2f2-ebe9-4c1e-ae68-2d34da54dfee.png\\",\\"https://cdn.nlark.com/yuque/0/2024/png/45821596/1729826493511-9f41b24b-d563-44b8-9223-c593e37bb4b7.png\\",\\"https://cdn.nlark.com/yuque/0/2024/png/45821596/1729826538580-fcf64b07-a338-4860-a1be-8b5f7629dd08.png\\",\\"https://cdn.nlark.com/yuque/0/2024/png/45821596/1729826605358-25165241-b3dc-4a49-9a97-e33b236b32f7.png\\",\\"https://cdn.nlark.com/yuque/0/2024/png/45821596/1729826675604-7cbb9579-80ea-4ff4-b209-82c0570eaaa2.png\\",\\"https://cdn.nlark.com/yuque/0/2024/png/45821596/1729826689171-13e1322c-d39f-477b-86ea-17af33bfddb7.png\\",\\"https://cdn.nlark.com/yuque/0/2024/png/45821596/1729826876391-3b58ea97-90d9-410b-90e6-e2775121c8f3.png\\",\\"https://cdn.nlark.com/yuque/0/2024/png/45821596/1729827157273-df3895ed-6f46-4d73-95e2-20bf55530b2c.png\\",\\"https://cdn.nlark.com/yuque/0/2024/png/45821596/1729827361948-c0a9ae9e-df19-4b93-abfd-fef705316374.png\\",\\"https://cdn.nlark.com/yuque/0/2024/png/45821596/1729828233448-a6b535d3-9d8f-4606-a31e-4c41bb583310.png\\",\\"https://cdn.nlark.com/yuque/0/2024/png/45821596/1729828327988-e3d9052e-20ce-4c6b-a06c-89f5b065bb3f.png\\",\\"https://cdn.nlark.com/yuque/0/2024/png/45821596/1729828611337-4c041ca6-06d7-4604-9206-aed137fd886b.png\\",\\"https://cdn.nlark.com/yuque/0/2024/png/45821596/1729828981962-bb167b21-f475-4b02-8bfb-6c069dbb346e.png\\",\\"https://cdn.nlark.com/yuque/0/2024/png/45821596/1729828995369-210f0330-788d-48c0-8d6a-ee75bb6cf17a.png\\",\\"https://cdn.nlark.com/yuque/0/2024/png/45821596/1729829072343-22c1713e-f318-4e35-a96a-10956befc356.png\\",\\"https://cdn.nlark.com/yuque/0/2024/png/45821596/1729838007863-23de8313-e497-4f41-bbaa-afe9a75a9429.png\\",\\"https://cdn.nlark.com/yuque/0/2024/png/45821596/1729838024691-77752112-fc16-4a17-bad1-d2060b028b2d.png\\",\\"https://cdn.nlark.com/yuque/0/2024/png/45821596/1729838734007-ea86baaf-bcdb-43cd-8de6-38f0a069cfa7.png\\",\\"https://cdn.nlark.com/yuque/0/2024/png/45821596/1729838815396-e1620653-a0fa-4ec5-b6e1-62c4d76de1d2.png\\",\\"https://cdn.nlark.com/yuque/0/2024/png/45821596/1729838844467-db29b02f-c74b-4bb3-a8a2-0a3d5beb669f.png\\",\\"https://cdn.nlark.com/yuque/0/2024/png/45821596/1729838872259-9532501b-3a43-431e-8b8c-00c1cc61dd60.png\\",\\"https://cdn.nlark.com/yuque/0/2024/png/45821596/1729839047874-a069f2c9-1a61-412a-bfb3-d427faddbf65.png\\",\\"https://cdn.nlark.com/yuque/0/2024/png/45821596/1729839709312-9e14e455-6e76-4bc9-bdc1-40a3c0577ba2.png\\"],\\"datePublished\\":\\"2024-10-25T00:00:00.000Z\\",\\"dateModified\\":\\"2024-10-30T10:04:57.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"子冥\\",\\"url\\":\\"https://weijordan.com\\"}]}"]]},"headers":[{"level":2,"title":"安装","slug":"安装","link":"#安装","children":[]},{"level":2,"title":"介绍","slug":"介绍","link":"#介绍","children":[]},{"level":2,"title":"命令操作","slug":"命令操作","link":"#命令操作","children":[{"level":3,"title":"总结","slug":"总结","link":"#总结","children":[]},{"level":3,"title":"镜像","slug":"镜像","link":"#镜像","children":[]},{"level":3,"title":"容器","slug":"容器","link":"#容器","children":[]},{"level":3,"title":"分享","slug":"分享","link":"#分享","children":[]}]},{"level":2,"title":"批量删除容器","slug":"批量删除容器","link":"#批量删除容器","children":[]},{"level":2,"title":"存储-卷映射","slug":"存储-卷映射","link":"#存储-卷映射","children":[]},{"level":2,"title":"Docker 网络-自定义网络","slug":"docker-网络-自定义网络","link":"#docker-网络-自定义网络","children":[{"level":3,"title":"创建自定义网络","slug":"创建自定义网络","link":"#创建自定义网络","children":[]},{"level":3,"title":"将容器加入网络","slug":"将容器加入网络","link":"#将容器加入网络","children":[]},{"level":3,"title":"则两容器的 ip 都在同一个网段下","slug":"则两容器的-ip-都在同一个网段下","link":"#则两容器的-ip-都在同一个网段下","children":[]}]},{"level":2,"title":"网络-Redis-主从集群","slug":"网络-redis-主从集群","link":"#网络-redis-主从集群","children":[]},{"level":2,"title":"启动MySQL","slug":"启动mysql","link":"#启动mysql","children":[]},{"level":2,"title":"Docker Compose","slug":"docker-compose","link":"#docker-compose","children":[{"level":3,"title":"案例启动 wordpress","slug":"案例启动-wordpress","link":"#案例启动-wordpress","children":[]},{"level":3,"title":"命令式安装","slug":"命令式安装","link":"#命令式安装","children":[]},{"level":3,"title":"compose.yaml","slug":"compose-yaml","link":"#compose-yaml","children":[]}]},{"level":2,"title":"特性","slug":"特性","link":"#特性","children":[]},{"level":2,"title":"Dockerfile-制作镜像","slug":"dockerfile-制作镜像","link":"#dockerfile-制作镜像","children":[{"level":3,"title":"Dockerfile-镜像分层机制","slug":"dockerfile-镜像分层机制","link":"#dockerfile-镜像分层机制","children":[]}]},{"level":2,"title":"附录 - 1. 一键安装超多中间件","slug":"附录-1-一键安装超多中间件","link":"#附录-1-一键安装超多中间件","children":[]},{"level":2,"title":"yaml","slug":"yaml","link":"#yaml","children":[]},{"level":2,"title":"启动","slug":"启动","link":"#启动","children":[]},{"level":2,"title":"访问","slug":"访问","link":"#访问","children":[]},{"level":2,"title":"销毁实例","slug":"销毁实例","link":"#销毁实例","children":[]}],"git":{"createdTime":1730282697000,"updatedTime":1730282697000,"contributors":[{"name":"weijordan","email":"12012972+weijordan@user.noreply.gitee.com","commits":1}]},"readingTime":{"minutes":10.77,"words":3232},"filePathRelative":"posts/运维/docker/Docker 学习.md","localizedDate":"2024年10月25日","excerpt":"<p>文档</p>\\n<p><a href=\\"https://www.yuque.com/leifengyang/sutong/au0lv3sv3eldsmn8\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">https://www.yuque.com/leifengyang/sutong/au0lv3sv3eldsmn8</a></p>\\n<p>视频</p>\\n<p><a href=\\"https://www.bilibili.com/video/BV1Bg4fesE9K?spm_id_from=333.788.player.switch&amp;vd_source=ac6ab4c3cdc5d0193edf55fd77ba0b4f&amp;p=9\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">https://www.bilibili.com/video/BV1Bg4fesE9K?spm_id_from=333.788.player.switch&amp;vd_source=ac6ab4c3cdc5d0193edf55fd77ba0b4f&amp;p=9</a></p>","autoDesc":true}');export{ls as comp,es as data};
