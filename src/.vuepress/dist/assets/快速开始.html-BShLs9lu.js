import{_ as a,a as n,b as l}from"./e9c14f115e7d8239d0126515b71c0b42-DN1SmzWT.js";import{_ as i,c as e,a as r,o as p}from"./app-C33tfncF.js";const o={};function k(c,s){return p(),e("div",null,s[0]||(s[0]=[r(`<h2 id="前言" tabindex="-1"><a class="header-anchor" href="#前言"><span>前言</span></a></h2><div class="hint-container warning"><p class="hint-container-title">注意</p><p>当前支持语雀 Token 模式（需要语雀超级会员）和账号密码模式（不需要任何会员）</p></div><h2 id="文档站点工具汇总" tabindex="-1"><a class="header-anchor" href="#文档站点工具汇总"><span>文档站点工具汇总</span></a></h2><ul><li>写作平台：语雀</li><li>文档平台：<a href="https://vuepress.vuejs.org/zh/guide/getting-started.html#%E5%AE%89%E8%A3%85" target="_blank" rel="noopener noreferrer">Vuepress</a></li><li>博客主题：<a href="https://theme-hope.vuejs.press/zh/get-started/" target="_blank" rel="noopener noreferrer">Hope</a></li><li>文档同步：<a href="https://github.com/LetTTGACO/elog" target="_blank" rel="noopener noreferrer">Elog</a></li><li>部署平台：<a href="https://vercel.com" target="_blank" rel="noopener noreferrer">Vercel</a> / Docker</li></ul><h2 id="文档站点搭建指南" tabindex="-1"><a class="header-anchor" href="#文档站点搭建指南"><span>文档站点搭建指南</span></a></h2><p><a href="https://vuepress.vuejs.org/zh/guide/getting-started.html#%E5%AE%89%E8%A3%85" target="_blank" rel="noopener noreferrer">点击 Vuepress</a>官网 根据教程进行建vuepress项目</p><p>或者</p><p><a href="https://theme-hope.vuejs.press/zh/get-started/" target="_blank" rel="noopener noreferrer">点击 Vuepress-theme-hope</a> 官网 根据教程进行建vuepress项目</p><h3 id="安装依赖" tabindex="-1"><a class="header-anchor" href="#安装依赖"><span>安装依赖</span></a></h3><p>在项目根目录下运行命令安装依赖：</p><div class="language-shell" data-ext="shell" data-title="shell"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">npm</span><span style="color:#98C379;--shiki-dark:#98C379;"> install</span></span></code></pre></div><h3 id="新建本地调试文件" tabindex="-1"><a class="header-anchor" href="#新建本地调试文件"><span>新建本地调试文件</span></a></h3><p>在项目根目录中复制<code>.elog.example.env</code>文件并改名为<code>.elog.env</code>，此文件将用于本地同步文档时使用。</p><h3 id="配置语雀" tabindex="-1"><a class="header-anchor" href="#配置语雀"><span>配置语雀</span></a></h3><p>参考<a href="https://www.yuque.com/1874w/yuque-hexo-template" target="_blank" rel="noopener noreferrer">示例知识库</a>，选择或新建语雀文档知识库，并按照<a href="https://elog.1874.cool/notion/gvnxobqogetukays#login" target="_blank" rel="noopener noreferrer">文档提示</a>配置语雀并获取<code>token login repo</code>。并在本地<code>.elog.env</code>中写入。</p><div class="hint-container warning"><p class="hint-container-title">注意</p><p>Token 模式或者账号密码模式二选一即可，默认为账号密码模式，如果需要切换为 Token 模式，则修改<code>elog.config.js</code>中的<code>platform</code>为<code>yuque</code> 如果是用密码模式则修改为 yuque-pwd;对应平台进行修改即可</p></div><div class="language-plain" data-ext="plain" data-title="plain"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span># 语雀（Token方式）</span></span>
<span class="line"><span>YUQUE_TOKEN=获取的Token</span></span>
<span class="line"><span></span></span>
<span class="line"><span>#语雀（账号密码模式）</span></span>
<span class="line"><span>YUQUE_USERNAME=一般是手机号</span></span>
<span class="line"><span>YUQUE_PASSWORD=登录密码</span></span>
<span class="line"><span></span></span>
<span class="line"><span># 语雀公共参数</span></span>
<span class="line"><span>YUQUE_LOGIN=获取的login</span></span>
<span class="line"><span>YUQUE_REPO=获取的repo</span></span></code></pre></div><p>不看示例可以参考这里</p><p>elog安装</p><div class="language-shell" data-ext="shell" data-title="shell"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">npm</span><span style="color:#98C379;--shiki-dark:#98C379;"> install</span><span style="color:#98C379;--shiki-dark:#98C379;"> @elog/cli</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> -g</span></span></code></pre></div><p>elog初始化到项目</p><div class="language-shell" data-ext="shell" data-title="shell"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">elog</span><span style="color:#98C379;--shiki-dark:#98C379;"> init</span></span></code></pre></div><p>修改 elog.config.js 文件 platform , deploy , image内容 具体的.md文档地址和图片地址配置按照个人喜好去设置就行</p><div class="language-shell line-numbers-mode" data-ext="shell" data-title="shell"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">module.exports</span><span style="color:#98C379;--shiki-dark:#98C379;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> {</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">  write:</span><span style="color:#98C379;--shiki-dark:#98C379;"> {</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">    platform:</span><span style="color:#98C379;--shiki-dark:#98C379;"> &#39;yuque-pwd&#39;,</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">    //</span><span style="color:#98C379;--shiki-dark:#98C379;"> platform:</span><span style="color:#98C379;--shiki-dark:#98C379;"> &#39;yuque&#39;,</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">    yuque:</span><span style="color:#98C379;--shiki-dark:#98C379;"> {</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">      token:</span><span style="color:#98C379;--shiki-dark:#98C379;"> process.env.YUQUE_TOKEN,</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">      //</span><span style="color:#98C379;--shiki-dark:#98C379;"> baseUrl:</span><span style="color:#98C379;--shiki-dark:#98C379;"> &#39;&#39;,</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">      login:</span><span style="color:#98C379;--shiki-dark:#98C379;"> process.env.YUQUE_LOGIN,</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">      repo:</span><span style="color:#98C379;--shiki-dark:#98C379;"> process.env.YUQUE_REPO,</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">      onlyPublic:</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> false</span><span style="color:#98C379;--shiki-dark:#98C379;">,</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">      onlyPublished:</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> true</span><span style="color:#98C379;--shiki-dark:#98C379;">,</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    },</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">    &#39;yuque-pwd&#39;</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">:</span><span style="color:#98C379;--shiki-dark:#98C379;"> {</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">      username:</span><span style="color:#98C379;--shiki-dark:#98C379;"> process.env.YUQUE_USERNAME,</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">      password:</span><span style="color:#98C379;--shiki-dark:#98C379;"> process.env.YUQUE_PASSWORD,</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">      login:</span><span style="color:#98C379;--shiki-dark:#98C379;"> process.env.YUQUE_LOGIN,</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">      repo:</span><span style="color:#98C379;--shiki-dark:#98C379;"> process.env.YUQUE_REPO,</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">      onlyPublic:</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> false</span><span style="color:#98C379;--shiki-dark:#98C379;">,</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">      onlyPublished:</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> true</span><span style="color:#98C379;--shiki-dark:#98C379;">,</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    },</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">    notion:</span><span style="color:#98C379;--shiki-dark:#98C379;"> {</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">      token:</span><span style="color:#98C379;--shiki-dark:#98C379;"> process.env.NOTION_TOKEN,</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">      databaseId:</span><span style="color:#98C379;--shiki-dark:#98C379;"> process.env.NOTION_DATABASE_ID,</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">      filter:</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> false</span><span style="color:#98C379;--shiki-dark:#98C379;">,</span><span style="color:#98C379;--shiki-dark:#98C379;"> //</span><span style="color:#98C379;--shiki-dark:#98C379;"> {property:</span><span style="color:#98C379;--shiki-dark:#98C379;"> &#39;status&#39;,</span><span style="color:#98C379;--shiki-dark:#98C379;"> select:</span><span style="color:#98C379;--shiki-dark:#98C379;"> {equals:</span><span style="color:#98C379;--shiki-dark:#98C379;"> &#39;已发布&#39;}}</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    },</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">    feishu:</span><span style="color:#98C379;--shiki-dark:#98C379;"> {</span></span>
<span class="line"><span style="color:#56B6C2;--shiki-dark:#56B6C2;">      type</span><span style="color:#98C379;--shiki-dark:#98C379;">:</span><span style="color:#98C379;--shiki-dark:#98C379;"> &#39;space&#39;,</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">      wikiId:</span><span style="color:#98C379;--shiki-dark:#98C379;"> process.env.FEISHU_WIKI_ID,</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">      folderToken:</span><span style="color:#98C379;--shiki-dark:#98C379;"> process.env.FEISHU_FOLDER_TOKEN,</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">      appId:</span><span style="color:#98C379;--shiki-dark:#98C379;"> process.env.FEISHU_APP_ID,</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">      appSecret:</span><span style="color:#98C379;--shiki-dark:#98C379;"> process.env.FEISHU_APP_SECRET,</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    },</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">    flowus:</span><span style="color:#98C379;--shiki-dark:#98C379;"> {</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">      tablePageId:</span><span style="color:#98C379;--shiki-dark:#98C379;"> process.env.FLOWUS_TABLE_PAGE_ID,</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">      filter:</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> false</span><span style="color:#98C379;--shiki-dark:#98C379;">,</span><span style="color:#98C379;--shiki-dark:#98C379;"> //</span><span style="color:#98C379;--shiki-dark:#98C379;"> {property:</span><span style="color:#98C379;--shiki-dark:#98C379;"> &#39;status&#39;,value:</span><span style="color:#98C379;--shiki-dark:#98C379;"> &#39;已发布&#39;}</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    },</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">    wolai:</span><span style="color:#98C379;--shiki-dark:#98C379;"> {</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">      token:</span><span style="color:#98C379;--shiki-dark:#98C379;"> process.env.WOLAI_TOKEN,</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">      pageId:</span><span style="color:#98C379;--shiki-dark:#98C379;"> process.env.WOLAI_PAGE_ID,</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">  },</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">  deploy:</span><span style="color:#98C379;--shiki-dark:#98C379;"> {</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">    platform:</span><span style="color:#98C379;--shiki-dark:#98C379;"> &#39;local&#39;,</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">    local:</span><span style="color:#98C379;--shiki-dark:#98C379;"> {</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">      outputDir:</span><span style="color:#98C379;--shiki-dark:#98C379;"> &#39;./src/_yuque&#39;,//</span><span style="color:#98C379;--shiki-dark:#98C379;"> 输出目录</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">      filename:</span><span style="color:#98C379;--shiki-dark:#98C379;"> &#39;title&#39;,//</span><span style="color:#98C379;--shiki-dark:#98C379;"> 文件名</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">      format:</span><span style="color:#98C379;--shiki-dark:#98C379;"> &#39;markdown&#39;,//</span><span style="color:#98C379;--shiki-dark:#98C379;"> markdown</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">      catalog:</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> true</span><span style="color:#98C379;--shiki-dark:#98C379;">,//</span><span style="color:#98C379;--shiki-dark:#98C379;"> 目录</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">      frontMatter:</span><span style="color:#98C379;--shiki-dark:#98C379;"> {//</span><span style="color:#98C379;--shiki-dark:#98C379;"> 前端元数据</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">        enable:</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> true</span><span style="color:#98C379;--shiki-dark:#98C379;">,</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">        include:</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> [</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;categories&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;tags&#39;,</span><span style="color:#98C379;--shiki-dark:#98C379;"> &#39;title&#39;,</span><span style="color:#98C379;--shiki-dark:#98C379;"> &#39;date&#39;,</span><span style="color:#98C379;--shiki-dark:#98C379;"> &#39;updated&#39;,</span><span style="color:#98C379;--shiki-dark:#98C379;"> &#39;permalink&#39;,</span><span style="color:#98C379;--shiki-dark:#98C379;"> &#39;cover&#39;,</span><span style="color:#98C379;--shiki-dark:#98C379;"> &#39;description&#39;],</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">        //</span><span style="color:#98C379;--shiki-dark:#98C379;"> include:</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> [</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;title&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;shortTitle&#39;,</span><span style="color:#98C379;--shiki-dark:#98C379;"> &#39;date&#39;,</span><span style="color:#98C379;--shiki-dark:#98C379;"> &#39;icon&#39;,</span><span style="color:#98C379;--shiki-dark:#98C379;"> &#39;star&#39;,</span><span style="color:#98C379;--shiki-dark:#98C379;"> &#39;isOriginal&#39;,</span><span style="color:#98C379;--shiki-dark:#98C379;"> &#39;cover&#39;,</span><span style="color:#98C379;--shiki-dark:#98C379;"> &#39;category&#39;,</span><span style="color:#98C379;--shiki-dark:#98C379;"> &#39;tag&#39;],</span><span style="color:#98C379;--shiki-dark:#98C379;"> //</span><span style="color:#98C379;--shiki-dark:#98C379;"> 更新字段列表</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">        timeFormat:</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> true</span><span style="color:#98C379;--shiki-dark:#98C379;">,//</span><span style="color:#98C379;--shiki-dark:#98C379;"> 时间格式化</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      }</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    },</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">    halo:</span><span style="color:#98C379;--shiki-dark:#98C379;"> {</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">      endpoint:</span><span style="color:#98C379;--shiki-dark:#98C379;"> process.env.HALO_ENDPOINT,</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">      token:</span><span style="color:#98C379;--shiki-dark:#98C379;"> process.env.HALO_TOKEN,</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">      policyName:</span><span style="color:#98C379;--shiki-dark:#98C379;"> process.env.HALO_POLICY_NAME,</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">      rowType:</span><span style="color:#98C379;--shiki-dark:#98C379;"> &#39;html&#39;,</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">      needUploadImage:</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> true</span><span style="color:#98C379;--shiki-dark:#98C379;">,</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    },</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">    confluence:</span><span style="color:#98C379;--shiki-dark:#98C379;"> {</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">      user:</span><span style="color:#98C379;--shiki-dark:#98C379;"> process.env.CONFLUENCE_USER,</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">      password:</span><span style="color:#98C379;--shiki-dark:#98C379;"> process.env.WORDPRESS_PASSWORD,</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">      endpoint:</span><span style="color:#98C379;--shiki-dark:#98C379;"> process.env.WORDPRESS_ENDPOINT,</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">      spaceKey:</span><span style="color:#98C379;--shiki-dark:#98C379;"> process.env.CONFLUENCE_SPACE_KEY,</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">      rootPageId:</span><span style="color:#98C379;--shiki-dark:#98C379;"> process.env.CONFLUENCE_ROOT_PAGE_ID,</span><span style="color:#98C379;--shiki-dark:#98C379;"> //</span><span style="color:#98C379;--shiki-dark:#98C379;"> 可选</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    },</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">    wordpress:</span><span style="color:#98C379;--shiki-dark:#98C379;"> {</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">      username:</span><span style="color:#98C379;--shiki-dark:#98C379;"> process.env.WORDPRESS_USERNAME,</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">      password:</span><span style="color:#98C379;--shiki-dark:#98C379;"> process.env.WORDPRESS_PASSWORD,</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">      endpoint:</span><span style="color:#98C379;--shiki-dark:#98C379;"> process.env.WORDPRESS_ENDPOINT,</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">  },</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">  image:</span><span style="color:#98C379;--shiki-dark:#98C379;"> {</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">    enable:</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> true</span><span style="color:#98C379;--shiki-dark:#98C379;">,</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">    platform:</span><span style="color:#98C379;--shiki-dark:#98C379;"> &#39;local&#39;,</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">    local:</span><span style="color:#98C379;--shiki-dark:#98C379;"> {</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">      outputDir:</span><span style="color:#98C379;--shiki-dark:#98C379;"> &#39;./src/_yuque/_images&#39;,//</span><span style="color:#98C379;--shiki-dark:#98C379;"> 图片输出目录</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">      prefixKey:</span><span style="color:#98C379;--shiki-dark:#98C379;"> &#39;_images&#39;,//</span><span style="color:#98C379;--shiki-dark:#98C379;"> 图片路径前缀</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">      pathFollowDoc:</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> true</span><span style="color:#98C379;--shiki-dark:#98C379;">,//</span><span style="color:#98C379;--shiki-dark:#98C379;"> 图片路径是否跟随文档路径</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">      //</span><span style="color:#98C379;--shiki-dark:#98C379;"> imagePathExt</span><span style="color:#98C379;--shiki-dark:#98C379;"> :</span><span style="color:#98C379;--shiki-dark:#98C379;"> &quot;&quot;,//</span><span style="color:#98C379;--shiki-dark:#98C379;"> 图片路径拓展点</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    },</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">    oss:</span><span style="color:#98C379;--shiki-dark:#98C379;"> {</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">      secretId:</span><span style="color:#98C379;--shiki-dark:#98C379;"> process.env.OSS_SECRET_ID,</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">      secretKey:</span><span style="color:#98C379;--shiki-dark:#98C379;"> process.env.OSS_SECRET_KEY,</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">      bucket:</span><span style="color:#98C379;--shiki-dark:#98C379;"> process.env.OSS_BUCKET,</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">      region:</span><span style="color:#98C379;--shiki-dark:#98C379;"> process.env.OSS_REGION,</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">      host:</span><span style="color:#98C379;--shiki-dark:#98C379;"> process.env.OSS_HOST,</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">      prefixKey:</span><span style="color:#98C379;--shiki-dark:#98C379;"> &#39;&#39;,</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    },</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">    cos:</span><span style="color:#98C379;--shiki-dark:#98C379;"> {</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">      secretId:</span><span style="color:#98C379;--shiki-dark:#98C379;"> process.env.COS_SECRET_ID,</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">      secretKey:</span><span style="color:#98C379;--shiki-dark:#98C379;"> process.env.COS_SECRET_KEY,</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">      bucket:</span><span style="color:#98C379;--shiki-dark:#98C379;"> process.env.COS_BUCKET,</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">      region:</span><span style="color:#98C379;--shiki-dark:#98C379;"> process.env.COS_REGION,</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">      host:</span><span style="color:#98C379;--shiki-dark:#98C379;"> process.env.COS_HOST,</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">      prefixKey:</span><span style="color:#98C379;--shiki-dark:#98C379;"> &#39;&#39;,</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    },</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">    qiniu:</span><span style="color:#98C379;--shiki-dark:#98C379;"> {</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">      secretId:</span><span style="color:#98C379;--shiki-dark:#98C379;"> process.env.QINIU_SECRET_ID,</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">      secretKey:</span><span style="color:#98C379;--shiki-dark:#98C379;"> process.env.QINIU_SECRET_KEY,</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">      bucket:</span><span style="color:#98C379;--shiki-dark:#98C379;"> process.env.QINIU_BUCKET,</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">      region:</span><span style="color:#98C379;--shiki-dark:#98C379;"> process.env.QINIU_REGION,</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">      host:</span><span style="color:#98C379;--shiki-dark:#98C379;"> process.env.QINIU_HOST,</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">      prefixKey:</span><span style="color:#98C379;--shiki-dark:#98C379;"> &#39;&#39;,</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    },</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">    upyun:</span><span style="color:#98C379;--shiki-dark:#98C379;"> {</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">      user:</span><span style="color:#98C379;--shiki-dark:#98C379;"> process.env.UPYUN_USER,</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">      password:</span><span style="color:#98C379;--shiki-dark:#98C379;"> process.env.UPYUN_PASSWORD,</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">      bucket:</span><span style="color:#98C379;--shiki-dark:#98C379;"> process.env.UPYUN_BUCKET,</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">      host:</span><span style="color:#98C379;--shiki-dark:#98C379;"> process.env.UPYUN_HOST,</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">      prefixKey:</span><span style="color:#98C379;--shiki-dark:#98C379;"> &#39;&#39;,</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    },</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">    github:</span><span style="color:#98C379;--shiki-dark:#98C379;"> {</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">      token:</span><span style="color:#98C379;--shiki-dark:#98C379;"> process.env.GITHUB_TOKEN,</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">      user:</span><span style="color:#98C379;--shiki-dark:#98C379;"> process.env.ELOG_GITHUB_USER,</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">      repo:</span><span style="color:#98C379;--shiki-dark:#98C379;"> process.env.ELOG_GITHUB_REPO,</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">      prefixKey:</span><span style="color:#98C379;--shiki-dark:#98C379;"> &#39;&#39;,</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="本地调试" tabindex="-1"><a class="header-anchor" href="#本地调试"><span>本地调试</span></a></h3><p>配置完成后在根目录下;在项目根目录运行同步命令：</p><div class="language-shell" data-ext="shell" data-title="shell"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">elog</span><span style="color:#98C379;--shiki-dark:#98C379;"> sync</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> -e</span><span style="color:#98C379;--shiki-dark:#98C379;"> .elog.env</span></span></code></pre></div><p>在根目录创建文件夹 scripts 新建updateFrontMatter.js文件脚本;这个指令代码是将elog 的 FrontMatter 匹配 到 Vuepress 的 FrontMatter 进行兼容</p><div class="language-shell line-numbers-mode" data-ext="shell" data-title="shell"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">const</span><span style="color:#98C379;--shiki-dark:#98C379;"> fs</span><span style="color:#98C379;--shiki-dark:#98C379;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> require</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">&#39;fs&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">const</span><span style="color:#98C379;--shiki-dark:#98C379;"> path</span><span style="color:#98C379;--shiki-dark:#98C379;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> require</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">&#39;path&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">//</span><span style="color:#98C379;--shiki-dark:#98C379;"> 定义要处理的目录</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">const</span><span style="color:#98C379;--shiki-dark:#98C379;"> outputDir</span><span style="color:#98C379;--shiki-dark:#98C379;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> &#39;./src/_yuque&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">//</span><span style="color:#98C379;--shiki-dark:#98C379;"> 递归读取目录中的所有</span><span style="color:#98C379;--shiki-dark:#98C379;"> Markdown</span><span style="color:#98C379;--shiki-dark:#98C379;"> 文件</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">function</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> processDirectory</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">directory</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">    fs.readdir(directory,</span><span style="color:#98C379;--shiki-dark:#98C379;"> {</span><span style="color:#98C379;--shiki-dark:#98C379;"> withFileTypes:</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> true</span><span style="color:#98C379;--shiki-dark:#98C379;"> },</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> (err, </span><span style="color:#98C379;--shiki-dark:#98C379;">entries</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) =&gt; {</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">        if</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> (</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">err</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">            console.error(</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">&#39;Error reading directory:&#39;</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">,</span><span style="color:#98C379;--shiki-dark:#98C379;"> err</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">            return</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">        }</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">        entries.forEach(entry</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =&gt; </span><span style="color:#98C379;--shiki-dark:#98C379;">{//</span><span style="color:#98C379;--shiki-dark:#98C379;"> 处理目录中的每个条目</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">            const</span><span style="color:#98C379;--shiki-dark:#98C379;"> entryPath</span><span style="color:#98C379;--shiki-dark:#98C379;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> path.join</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">directory,</span><span style="color:#98C379;--shiki-dark:#98C379;"> entry.name</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">//</span><span style="color:#98C379;--shiki-dark:#98C379;"> 获取完整路径</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">            if</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> (</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">entry.isDirectory</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">()) {</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">//</span><span style="color:#98C379;--shiki-dark:#98C379;"> 处理子目录</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">                processDirectory(entryPath</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">); </span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">//</span><span style="color:#98C379;--shiki-dark:#98C379;"> 递归处理子目录</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">            } </span><span style="color:#C678DD;--shiki-dark:#C678DD;">else</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> if</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> (</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">entry.isFile</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">() &amp;&amp; </span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">path.extname(entry.name</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) === </span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;.md&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> &amp;&amp; </span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">entry.name</span><span style="color:#98C379;--shiki-dark:#98C379;"> !==</span><span style="color:#98C379;--shiki-dark:#98C379;"> &#39;README.md&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) {</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">//</span><span style="color:#98C379;--shiki-dark:#98C379;"> 处理</span><span style="color:#98C379;--shiki-dark:#98C379;"> Markdown</span><span style="color:#98C379;--shiki-dark:#98C379;"> 文件</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">                processFile(entryPath</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">            }</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">        });</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    });</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">//</span><span style="color:#98C379;--shiki-dark:#98C379;"> 处理单个</span><span style="color:#98C379;--shiki-dark:#98C379;"> Markdown</span><span style="color:#98C379;--shiki-dark:#98C379;"> 文件</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">function</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> processFile</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">filePath</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">    fs.readFile(filePath,</span><span style="color:#98C379;--shiki-dark:#98C379;"> &#39;utf8&#39;,</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> (err, </span><span style="color:#98C379;--shiki-dark:#98C379;">content</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) =&gt; {</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">        if</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> (</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">err</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">            console.error(</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">&#39;Error reading file:&#39;</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">,</span><span style="color:#98C379;--shiki-dark:#98C379;"> err</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">            return</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">        }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">        //</span><span style="color:#98C379;--shiki-dark:#98C379;"> 解析现有的</span><span style="color:#98C379;--shiki-dark:#98C379;"> frontMatter</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">        const</span><span style="color:#98C379;--shiki-dark:#98C379;"> frontMatterMatch</span><span style="color:#98C379;--shiki-dark:#98C379;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> content.match</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">/^(---[\\s\\S]*?---</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)</span><span style="color:#98C379;--shiki-dark:#98C379;">/m</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">//</span><span style="color:#98C379;--shiki-dark:#98C379;"> 匹配</span><span style="color:#98C379;--shiki-dark:#98C379;"> frontMatter</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">        if</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> (!</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">frontMatterMatch</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">            console.error(</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">&#39;No front matter found in file:&#39;</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">,</span><span style="color:#98C379;--shiki-dark:#98C379;"> filePath</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">            return</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">        }</span></span>
<span class="line"><span style="color:#56B6C2;--shiki-dark:#56B6C2;">        let</span><span style="color:#98C379;--shiki-dark:#98C379;"> frontMatter</span><span style="color:#98C379;--shiki-dark:#98C379;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> frontMatterMatch[1]</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">        //</span><span style="color:#98C379;--shiki-dark:#98C379;"> 获取</span><span style="color:#98C379;--shiki-dark:#98C379;"> title</span><span style="color:#98C379;--shiki-dark:#98C379;"> 值以便在</span><span style="color:#98C379;--shiki-dark:#98C379;"> shortTitle</span><span style="color:#98C379;--shiki-dark:#98C379;"> 缺失时使用</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">        const</span><span style="color:#98C379;--shiki-dark:#98C379;"> titleValue</span><span style="color:#98C379;--shiki-dark:#98C379;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> getFieldValue</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">frontMatter,</span><span style="color:#98C379;--shiki-dark:#98C379;"> &#39;title&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) || </span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">&#39;默认标题&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">        //</span><span style="color:#98C379;--shiki-dark:#98C379;"> 获取</span><span style="color:#98C379;--shiki-dark:#98C379;"> date</span><span style="color:#98C379;--shiki-dark:#98C379;"> 值并只保留日期部分</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">        //</span><span style="color:#98C379;--shiki-dark:#98C379;"> const</span><span style="color:#98C379;--shiki-dark:#98C379;"> existingDate</span><span style="color:#98C379;--shiki-dark:#98C379;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> getFieldValue</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">frontMatter,</span><span style="color:#98C379;--shiki-dark:#98C379;"> &#39;date&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">        //</span><span style="color:#98C379;--shiki-dark:#98C379;"> const</span><span style="color:#98C379;--shiki-dark:#98C379;"> dateValue</span><span style="color:#98C379;--shiki-dark:#98C379;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> existingDate</span><span style="color:#98C379;--shiki-dark:#98C379;"> ?</span><span style="color:#98C379;--shiki-dark:#98C379;"> existingDate.split</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">&#39; &#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)</span><span style="color:#98C379;--shiki-dark:#98C379;">[0]</span><span style="color:#98C379;--shiki-dark:#98C379;"> :</span><span style="color:#98C379;--shiki-dark:#98C379;"> new</span><span style="color:#98C379;--shiki-dark:#98C379;"> Date</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">()</span><span style="color:#98C379;--shiki-dark:#98C379;">.toISOString</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">()</span><span style="color:#98C379;--shiki-dark:#98C379;">.split</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">&#39;T&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)</span><span style="color:#98C379;--shiki-dark:#98C379;">[0]</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">; </span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">//</span><span style="color:#98C379;--shiki-dark:#98C379;"> 获取</span><span style="color:#98C379;--shiki-dark:#98C379;"> date</span><span style="color:#98C379;--shiki-dark:#98C379;"> 值并只保留日期部分</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">        const</span><span style="color:#98C379;--shiki-dark:#98C379;"> existingDate</span><span style="color:#98C379;--shiki-dark:#98C379;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> getFieldValueData</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">frontMatter,</span><span style="color:#98C379;--shiki-dark:#98C379;"> &#39;date&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">        const</span><span style="color:#98C379;--shiki-dark:#98C379;"> dateValue</span><span style="color:#98C379;--shiki-dark:#98C379;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> existingDate</span><span style="color:#98C379;--shiki-dark:#98C379;"> ?</span><span style="color:#98C379;--shiki-dark:#98C379;"> existingDate.split</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">&#39; &#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)</span><span style="color:#98C379;--shiki-dark:#98C379;">[0]</span><span style="color:#98C379;--shiki-dark:#98C379;"> :</span><span style="color:#98C379;--shiki-dark:#98C379;"> new</span><span style="color:#98C379;--shiki-dark:#98C379;"> Date</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">()</span><span style="color:#98C379;--shiki-dark:#98C379;">.toISOString</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">()</span><span style="color:#98C379;--shiki-dark:#98C379;">.split</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">&#39;T&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)</span><span style="color:#98C379;--shiki-dark:#98C379;">[0]</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">; </span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">//</span><span style="color:#98C379;--shiki-dark:#98C379;"> 获取</span><span style="color:#98C379;--shiki-dark:#98C379;"> date</span><span style="color:#98C379;--shiki-dark:#98C379;"> 值并只保留日期部分</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">        console.log(</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">&quot;dateValue&quot;</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">,</span><span style="color:#98C379;--shiki-dark:#98C379;"> dateValue</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">        //</span><span style="color:#98C379;--shiki-dark:#98C379;"> 创建新的</span><span style="color:#98C379;--shiki-dark:#98C379;"> frontMatter</span><span style="color:#98C379;--shiki-dark:#98C379;"> 字段</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">        const</span><span style="color:#98C379;--shiki-dark:#98C379;"> newFrontMatter</span><span style="color:#98C379;--shiki-dark:#98C379;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> \`</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">---</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">title:</span><span style="color:#98C379;--shiki-dark:#98C379;"> \${</span><span style="color:#E06C75;--shiki-dark:#E06C75;">titleValue</span><span style="color:#98C379;--shiki-dark:#98C379;">}</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">shortTitle:</span><span style="color:#98C379;--shiki-dark:#98C379;"> &quot;\${</span><span style="color:#E06C75;--shiki-dark:#E06C75;">getFieldValue</span><span style="color:#98C379;--shiki-dark:#98C379;">(</span><span style="color:#E06C75;--shiki-dark:#E06C75;">frontMatter</span><span style="color:#98C379;--shiki-dark:#98C379;">, &#39;shortTitle&#39;) || </span><span style="color:#E06C75;--shiki-dark:#E06C75;">titleValue</span><span style="color:#98C379;--shiki-dark:#98C379;">}&quot;</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">date:</span><span style="color:#98C379;--shiki-dark:#98C379;"> \${</span><span style="color:#E06C75;--shiki-dark:#E06C75;">dateValue</span><span style="color:#98C379;--shiki-dark:#98C379;">} </span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">icon:</span><span style="color:#98C379;--shiki-dark:#98C379;"> \${</span><span style="color:#E06C75;--shiki-dark:#E06C75;">getFieldValue</span><span style="color:#98C379;--shiki-dark:#98C379;">(</span><span style="color:#E06C75;--shiki-dark:#E06C75;">frontMatter</span><span style="color:#98C379;--shiki-dark:#98C379;">, &#39;icon&#39;) || &#39;blog&#39;}</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">star:</span><span style="color:#98C379;--shiki-dark:#98C379;"> \${</span><span style="color:#E06C75;--shiki-dark:#E06C75;">getFieldValue</span><span style="color:#98C379;--shiki-dark:#98C379;">(</span><span style="color:#E06C75;--shiki-dark:#E06C75;">frontMatter</span><span style="color:#98C379;--shiki-dark:#98C379;">, &#39;star&#39;) </span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">!</span><span style="color:#98C379;--shiki-dark:#98C379;">== </span><span style="color:#E06C75;--shiki-dark:#E06C75;">null</span><span style="color:#98C379;--shiki-dark:#98C379;"> ? </span><span style="color:#E06C75;--shiki-dark:#E06C75;">getFieldValue</span><span style="color:#98C379;--shiki-dark:#98C379;">(</span><span style="color:#E06C75;--shiki-dark:#E06C75;">frontMatter</span><span style="color:#98C379;--shiki-dark:#98C379;">, &#39;star&#39;) </span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span><span style="color:#98C379;--shiki-dark:#98C379;"> &#39;false&#39;}</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">isOriginal:</span><span style="color:#98C379;--shiki-dark:#98C379;"> \${</span><span style="color:#E06C75;--shiki-dark:#E06C75;">getFieldValue</span><span style="color:#98C379;--shiki-dark:#98C379;">(</span><span style="color:#E06C75;--shiki-dark:#E06C75;">frontMatter</span><span style="color:#98C379;--shiki-dark:#98C379;">, &#39;isOriginal&#39;) </span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">!</span><span style="color:#98C379;--shiki-dark:#98C379;">== </span><span style="color:#E06C75;--shiki-dark:#E06C75;">null</span><span style="color:#98C379;--shiki-dark:#98C379;"> ? </span><span style="color:#E06C75;--shiki-dark:#E06C75;">getFieldValue</span><span style="color:#98C379;--shiki-dark:#98C379;">(</span><span style="color:#E06C75;--shiki-dark:#E06C75;">frontMatter</span><span style="color:#98C379;--shiki-dark:#98C379;">, &#39;isOriginal&#39;) </span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span><span style="color:#98C379;--shiki-dark:#98C379;"> &#39;false&#39;}</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">cover:</span><span style="color:#98C379;--shiki-dark:#98C379;"> &quot;\${</span><span style="color:#E06C75;--shiki-dark:#E06C75;">getFieldValue</span><span style="color:#98C379;--shiki-dark:#98C379;">(</span><span style="color:#E06C75;--shiki-dark:#E06C75;">frontMatter</span><span style="color:#98C379;--shiki-dark:#98C379;">, &#39;cover&#39;) || &#39;&#39;}&quot;</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">category:</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">-</span><span style="color:#98C379;--shiki-dark:#98C379;"> \${</span><span style="color:#E06C75;--shiki-dark:#E06C75;">getFieldValue</span><span style="color:#98C379;--shiki-dark:#98C379;">(</span><span style="color:#E06C75;--shiki-dark:#E06C75;">frontMatter</span><span style="color:#98C379;--shiki-dark:#98C379;">, &#39;category&#39;) || &#39;yuque&#39;}</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">tag:</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">-</span><span style="color:#98C379;--shiki-dark:#98C379;"> \${</span><span style="color:#E06C75;--shiki-dark:#E06C75;">getFieldValue</span><span style="color:#98C379;--shiki-dark:#98C379;">(</span><span style="color:#E06C75;--shiki-dark:#E06C75;">frontMatter</span><span style="color:#98C379;--shiki-dark:#98C379;">, &#39;tag&#39;) || &#39;yuque&#39;}</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">---</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">\`</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">.trim</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">        //</span><span style="color:#98C379;--shiki-dark:#98C379;"> 替换原有的</span><span style="color:#98C379;--shiki-dark:#98C379;"> frontMatter</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">        const</span><span style="color:#98C379;--shiki-dark:#98C379;"> newContent</span><span style="color:#98C379;--shiki-dark:#98C379;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> content.replace</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">frontMatter,</span><span style="color:#98C379;--shiki-dark:#98C379;"> newFrontMatter</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">        //</span><span style="color:#98C379;--shiki-dark:#98C379;"> 写回文件</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">        fs.writeFile(filePath,</span><span style="color:#98C379;--shiki-dark:#98C379;"> newContent,</span><span style="color:#98C379;--shiki-dark:#98C379;"> &#39;utf8&#39;,</span><span style="color:#98C379;--shiki-dark:#98C379;"> err</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =&gt; </span><span style="color:#98C379;--shiki-dark:#98C379;">{</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">            if</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> (</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">err</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">                console.error(</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">&#39;Error writing file:&#39;</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">,</span><span style="color:#98C379;--shiki-dark:#98C379;"> err</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">                return</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">            }</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">            console.log(</span><span style="color:#98C379;--shiki-dark:#98C379;">\`</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">Updated</span><span style="color:#98C379;--shiki-dark:#98C379;"> file: \${</span><span style="color:#E06C75;--shiki-dark:#E06C75;">filePath</span><span style="color:#98C379;--shiki-dark:#98C379;">}\`</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">        });</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    });</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">//</span><span style="color:#98C379;--shiki-dark:#98C379;"> 辅助函数，从现有的</span><span style="color:#98C379;--shiki-dark:#98C379;"> frontMatter</span><span style="color:#98C379;--shiki-dark:#98C379;"> 中获取字段值</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">function</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> getFieldValue</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">frontMatter,</span><span style="color:#98C379;--shiki-dark:#98C379;"> fieldName</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">    const</span><span style="color:#98C379;--shiki-dark:#98C379;"> regex</span><span style="color:#98C379;--shiki-dark:#98C379;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> new</span><span style="color:#98C379;--shiki-dark:#98C379;"> RegExp</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#98C379;--shiki-dark:#98C379;">\`</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">^$</span><span style="color:#98C379;--shiki-dark:#98C379;">{fieldName}</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">:</span><span style="color:#98C379;--shiki-dark:#98C379;">\\\\s*([^\\n]+)\`</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">,</span><span style="color:#98C379;--shiki-dark:#98C379;"> &#39;m&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">    const</span><span style="color:#98C379;--shiki-dark:#98C379;"> match</span><span style="color:#98C379;--shiki-dark:#98C379;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> frontMatter.match</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">regex</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">    return</span><span style="color:#98C379;--shiki-dark:#98C379;"> match</span><span style="color:#98C379;--shiki-dark:#98C379;"> ?</span><span style="color:#98C379;--shiki-dark:#98C379;"> match[1].trim</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">() </span><span style="color:#98C379;--shiki-dark:#98C379;">:</span><span style="color:#98C379;--shiki-dark:#98C379;"> null</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">function</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> getFieldValueData</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">frontMatter,</span><span style="color:#98C379;--shiki-dark:#98C379;"> fieldName</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">    const</span><span style="color:#98C379;--shiki-dark:#98C379;"> regex</span><span style="color:#98C379;--shiki-dark:#98C379;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> new</span><span style="color:#98C379;--shiki-dark:#98C379;"> RegExp</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#98C379;--shiki-dark:#98C379;">\`</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">^$</span><span style="color:#98C379;--shiki-dark:#98C379;">{fieldName}</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">:</span><span style="color:#98C379;--shiki-dark:#98C379;">\\\\s*[</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">&#39;&quot;]?([^&#39;&quot;\\n]+)[&#39;&quot;]?</span><span style="color:#98C379;--shiki-dark:#98C379;">\`</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">,</span><span style="color:#98C379;--shiki-dark:#98C379;"> &#39;m&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">    const</span><span style="color:#98C379;--shiki-dark:#98C379;"> match</span><span style="color:#98C379;--shiki-dark:#98C379;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> frontMatter.match</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">regex</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">    return</span><span style="color:#98C379;--shiki-dark:#98C379;"> match</span><span style="color:#98C379;--shiki-dark:#98C379;"> ?</span><span style="color:#98C379;--shiki-dark:#98C379;"> match[1].trim</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">() </span><span style="color:#98C379;--shiki-dark:#98C379;">:</span><span style="color:#98C379;--shiki-dark:#98C379;"> null</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">//</span><span style="color:#98C379;--shiki-dark:#98C379;"> 开始处理指定目录</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">processDirectory(outputDir</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="启动-vuepress" tabindex="-1"><a class="header-anchor" href="#启动-vuepress"><span>启动 Vuepress</span></a></h3><p>在项目根目录运行 Vuepress 启动命令，打开本地链接。</p><div class="language-shell" data-ext="shell" data-title="shell"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">npm</span><span style="color:#98C379;--shiki-dark:#98C379;"> run</span><span style="color:#98C379;--shiki-dark:#98C379;"> server</span></span></code></pre></div><h2 id="配置-vuepress-博客" tabindex="-1"><a class="header-anchor" href="#配置-vuepress-博客"><span>配置 Vuepress 博客</span></a></h2><p>根据 Vuepress 文档和 Hope 主题配置文档，配置你的博客直到你满意为主，你也可以换别的主题，这里不做演示</p><h3 id="提交代码到-github" tabindex="-1"><a class="header-anchor" href="#提交代码到-github"><span>提交代码到 github</span></a></h3><p>本地访问没问题直接提交所有文件到 Github 仓库即可</p><h3 id="部署到-vercel" tabindex="-1"><a class="header-anchor" href="#部署到-vercel"><span>部署到 Vercel</span></a></h3><p>注册 Vercel 账号并绑定 Github，在 Vercel 导入 该项目，Vercel 会自动识别出该 VitePress 项目，不需要改动，直接选择 Deploy 部署。部署完成会有一个 Vercel 临时域名，你也可以绑定自己的域名。</p><figure><img src="`+a+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h2 id="自动化同步-部署" tabindex="-1"><a class="header-anchor" href="#自动化同步-部署"><span>自动化同步&amp;部署</span></a></h2><div class="hint-container warning"><p class="hint-container-title">注意</p><p>注意：在非国内CI/CD环境中使用账号密码模式登录语雀，例如Github<br> Workflow，会导致语雀后台登录设备中出现大量美国IP，目前尚不清楚语雀是否会有安全限制措施，请谨慎使用。推荐本地同步时使用。</p></div><h3 id="检查-github-actions-权限" tabindex="-1"><a class="header-anchor" href="#检查-github-actions-权限"><span>检查 Github Actions 权限</span></a></h3><p>在 Github 仓库的设置中找到 <code>Actions-General</code>，打开流水线写入权限<code>Workflow permissions</code></p><figure><img src="'+n+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h3 id="配置环境变量" tabindex="-1"><a class="header-anchor" href="#配置环境变量"><span>配置环境变量</span></a></h3><p>在本地运行时，用的是<code>.elog.env</code>文件中定义的语雀账号信息，而在 Github Actions 时，需要提前配置环境变量。</p><p>在 Github 仓库的设置中找到 <code>Secrets and variables</code>，新增仓库的环境变量和<code>.elog.env</code>保持一致即可</p><figure><img src="'+l+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h3 id="自动化部署" tabindex="-1"><a class="header-anchor" href="#自动化部署"><span>自动化部署</span></a></h3><p>当在语雀中改动文档后，手动/自动触发 Github Actions流水线，会重新从语雀增量拉取文档，自动提交代码到 Github 仓库。</p><p>Vercel 会实时监测仓库代码，当有新的提交时都会重新部署博客。如此就实现了自动化部署博客。</p><p>整个流程的关键点就在于：如何手动/自动触发 Github Actions。</p><p>在项目.<code>github/workflows/sync.yaml</code>中已经配置了外部 API 触发 Github Actions 事件，所以只需要调用 API 触发流水线即可。</p><h4 id="手动触发" tabindex="-1"><a class="header-anchor" href="#手动触发"><span>手动触发</span></a></h4><p>为了方便，这里提供一个部署在 Vercel 的免费公用的<a href="https://github.com/elog-x/serverless-api" target="_blank" rel="noopener noreferrer"><strong>ServerlessAPI</strong></a>，按照文档配置好 URL 参数并浏览器访问即可触发流水线</p><div class="language-shell" data-ext="shell" data-title="shell"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">https://serverless-api-elog.vercel.app/api/github?user</span><span style="color:#98C379;--shiki-dark:#98C379;">=xxx</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&amp;</span><span style="color:#E06C75;--shiki-dark:#E06C75;">repo</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#98C379;--shiki-dark:#98C379;">xxx</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&amp;</span><span style="color:#E06C75;--shiki-dark:#E06C75;">event_type</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#98C379;--shiki-dark:#98C379;">deploy</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&amp;</span><span style="color:#E06C75;--shiki-dark:#E06C75;">token</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#98C379;--shiki-dark:#98C379;">xxx</span></span></code></pre></div><h4 id="自动触发-语雀-webhooks" tabindex="-1"><a class="header-anchor" href="#自动触发-语雀-webhooks"><span>自动触发-语雀 webhooks</span></a></h4><div class="hint-container warning"><p class="hint-container-title">注意</p><p>需要语雀专业会员</p></div><p>在语雀知识库 - 更多设置 - 消息推送中可配置语雀 webhooks，填写上面的 Vercel Serverless API。当文档更新时，语雀会调用这个API进行推送，进而触发 Github Actions</p><div class="hint-container warning"><p class="hint-container-title">注意</p><p>注意：语雀是国内文档平台，调用国外Vercel 的服务可能会失败，可自行部署 API</p></div><div class="hint-container warning"><p class="hint-container-title">注意</p><p>注意：知识库配置了「自动发布」功能后，文档的 更新/发布 操作暂不会发送 webhooks</p></div><h2 id="参考示例" tabindex="-1"><a class="header-anchor" href="#参考示例"><span>参考示例</span></a></h2><p>示例 Github 仓库：待完善</p><p>示例语雀知识库：<a href="https://www.yuque.com/ziming-rrjvu/crg0xg/execk2ysh7x0fr4w?singleDoc#" target="_blank" rel="noopener noreferrer">https://www.yuque.com/ziming-rrjvu/crg0xg/execk2ysh7x0fr4w?singleDoc#</a> 《快速开始》</p><p>示例文档站点：待完善</p>',65)]))}const F=i(o,[["render",k],["__file","快速开始.html.vue"]]),h=JSON.parse('{"path":"/yuque/%E8%AF%AD%E9%9B%80_Vuepress_Elog%E5%AE%9E%E7%8E%B0%E6%96%87%E6%A1%A3%E5%8D%9A%E5%AE%A2%E5%B9%B3%E5%8F%B0%E4%BA%92%E9%80%9A/%E5%BF%AB%E9%80%9F%E5%BC%80%E5%A7%8B.html","title":"快速开始","lang":"zh-CN","frontmatter":{"title":"快速开始","date":"2024-12-18T00:00:00.000Z","icon":"bokeyuan","star":false,"isOriginal":false,"category":["yuque"],"tag":["yuque"],"description":"前言 注意 当前支持语雀 Token 模式（需要语雀超级会员）和账号密码模式（不需要任何会员） 文档站点工具汇总 写作平台：语雀 文档平台：Vuepress 博客主题：Hope 文档同步：Elog 部署平台：Vercel / Docker 文档站点搭建指南 点击 Vuepress官网 根据教程进行建vuepress项目 或者 点击 Vuepress-t...","head":[["meta",{"property":"og:url","content":"https://weijordan.com/yuque/%E8%AF%AD%E9%9B%80_Vuepress_Elog%E5%AE%9E%E7%8E%B0%E6%96%87%E6%A1%A3%E5%8D%9A%E5%AE%A2%E5%B9%B3%E5%8F%B0%E4%BA%92%E9%80%9A/%E5%BF%AB%E9%80%9F%E5%BC%80%E5%A7%8B.html"}],["meta",{"property":"og:site_name","content":"Mr.子冥"}],["meta",{"property":"og:title","content":"快速开始"}],["meta",{"property":"og:description","content":"前言 注意 当前支持语雀 Token 模式（需要语雀超级会员）和账号密码模式（不需要任何会员） 文档站点工具汇总 写作平台：语雀 文档平台：Vuepress 博客主题：Hope 文档同步：Elog 部署平台：Vercel / Docker 文档站点搭建指南 点击 Vuepress官网 根据教程进行建vuepress项目 或者 点击 Vuepress-t..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"article:author","content":"子冥"}],["meta",{"property":"article:tag","content":"yuque"}],["meta",{"property":"article:published_time","content":"2024-12-18T00:00:00.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"快速开始\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2024-12-18T00:00:00.000Z\\",\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"子冥\\",\\"url\\":\\"https://weijordan.com\\"}]}"]]},"headers":[{"level":2,"title":"前言","slug":"前言","link":"#前言","children":[]},{"level":2,"title":"文档站点工具汇总","slug":"文档站点工具汇总","link":"#文档站点工具汇总","children":[]},{"level":2,"title":"文档站点搭建指南","slug":"文档站点搭建指南","link":"#文档站点搭建指南","children":[{"level":3,"title":"安装依赖","slug":"安装依赖","link":"#安装依赖","children":[]},{"level":3,"title":"新建本地调试文件","slug":"新建本地调试文件","link":"#新建本地调试文件","children":[]},{"level":3,"title":"配置语雀","slug":"配置语雀","link":"#配置语雀","children":[]},{"level":3,"title":"本地调试","slug":"本地调试","link":"#本地调试","children":[]},{"level":3,"title":"启动 Vuepress","slug":"启动-vuepress","link":"#启动-vuepress","children":[]}]},{"level":2,"title":"配置 Vuepress 博客","slug":"配置-vuepress-博客","link":"#配置-vuepress-博客","children":[{"level":3,"title":"提交代码到 github","slug":"提交代码到-github","link":"#提交代码到-github","children":[]},{"level":3,"title":"部署到 Vercel","slug":"部署到-vercel","link":"#部署到-vercel","children":[]}]},{"level":2,"title":"自动化同步&部署","slug":"自动化同步-部署","link":"#自动化同步-部署","children":[{"level":3,"title":"检查 Github Actions 权限","slug":"检查-github-actions-权限","link":"#检查-github-actions-权限","children":[]},{"level":3,"title":"配置环境变量","slug":"配置环境变量","link":"#配置环境变量","children":[]},{"level":3,"title":"自动化部署","slug":"自动化部署","link":"#自动化部署","children":[]}]},{"level":2,"title":"参考示例","slug":"参考示例","link":"#参考示例","children":[]}],"git":{"createdTime":null,"updatedTime":null,"contributors":[]},"readingTime":{"minutes":6.59,"words":1977},"filePathRelative":"yuque/语雀+Vuepress+Elog实现文档博客平台互通/快速开始.md","localizedDate":"2024年12月18日","excerpt":"<h2>前言</h2>\\n<div class=\\"hint-container warning\\">\\n<p class=\\"hint-container-title\\">注意</p>\\n<p>当前支持语雀 Token 模式（需要语雀超级会员）和账号密码模式（不需要任何会员）</p>\\n</div>\\n<h2>文档站点工具汇总</h2>\\n<ul>\\n<li>写作平台：语雀</li>\\n<li>文档平台：<a href=\\"https://vuepress.vuejs.org/zh/guide/getting-started.html#%E5%AE%89%E8%A3%85\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">Vuepress</a></li>\\n<li>博客主题：<a href=\\"https://theme-hope.vuejs.press/zh/get-started/\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">Hope</a></li>\\n<li>文档同步：<a href=\\"https://github.com/LetTTGACO/elog\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">Elog</a></li>\\n<li>部署平台：<a href=\\"https://vercel.com\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">Vercel</a> / Docker</li>\\n</ul>","autoDesc":true}');export{F as comp,h as data};
