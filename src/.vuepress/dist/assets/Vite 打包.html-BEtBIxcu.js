import{_ as n,c as a,d as t,f as s,w as r,e as o,a as c,r as d,o as i}from"./app-BH1BRoJG.js";const p={},g={id:"LDFn1"};function u(b,e){const l=d("font");return i(),a("div",null,[e[6]||(e[6]=t("figure",null,[t("img",{src:"https://cdn.nlark.com/yuque/0/2024/png/45821596/1728974050160-49e6c562-b193-44ed-a110-54e4bfed197b.png",alt:"",tabindex:"0",loading:"lazy"}),t("figcaption")],-1)),t("h2",g,[s(l,{style:{"background-color":"rgb(243, 245, 250)"}},{default:r(()=>e[0]||(e[0]=[o("vite打包原理")])),_:1})]),e[7]||(e[7]=t("h2",{id:"kwt2B"},"总结",-1)),s(l,{style:{color:"rgb(6, 6, 7)"}},{default:r(()=>e[1]||(e[1]=[o("利用了 现代浏览器 对 ES 模块（ESM）的支持，提供了快速的 ")])),_:1}),e[8]||(e[8]=o("**")),s(l,{style:{color:"rgb(6, 6, 7)"}},{default:r(()=>e[2]||(e[2]=[o("冷启动 ")])),_:1}),e[9]||(e[9]=o("**")),s(l,{style:{color:"rgb(6, 6, 7)"}},{default:r(()=>e[3]||(e[3]=[o("和 ")])),_:1}),e[10]||(e[10]=o("**")),s(l,{style:{color:"rgb(6, 6, 7)"}},{default:r(()=>e[4]||(e[4]=[o("热更新")])),_:1}),e[11]||(e[11]=o("**")),s(l,{style:{color:"rgb(6, 6, 7)"}},{default:r(()=>e[5]||(e[5]=[o(" (热模块替换（HMR）)。")])),_:1}),e[12]||(e[12]=c("<p><code>&lt;font style=&quot;color:rgb(6, 6, 7);&quot;&gt;</code>开发环境下: Vite 充当一个开发服务器，直接利用浏览器对 ESM 的支持, 通过动态编译<code>&lt;/font&gt;&lt;font style=&quot;background-color:rgb(243, 245, 250);&quot;&gt;</code>动和打包对应的模块<code>&lt;/font&gt;</code></p><p><code>&lt;font style=&quot;background-color:rgb(243, 245, 250);&quot;&gt;</code>生产环境下: 利用 <code>&lt;/font&gt;&lt;font style=&quot;color:rgb(6, 6, 7);&quot;&gt;</code>Rollup 进行打包<code>&lt;/font&gt;</code></p><p><code>&lt;font style=&quot;color:rgb(6, 6, 7);&quot;&gt;</code>Vite 还利用 esbuild 对不常变动的第三方依赖进行预构建，并进行缓存，以提高构建速度。<code>&lt;/font&gt;</code></p><p><code>&lt;font style=&quot;color:rgb(6, 6, 7);&quot;&gt;&lt;/font&gt;</code></p><p><code>&lt;font style=&quot;color:rgb(6, 6, 7);&quot;&gt;</code> <code>&lt;/font&gt;</code><strong><code>&lt;font style=&quot;color:rgb(6, 6, 7);&quot;&gt;</code>热更新: 利用 <code>&lt;/font&gt;</code>****<code>&lt;font style=&quot;background-color:rgb(243, 245, 250);&quot;&gt;</code>WebSocket<code>&lt;/font&gt;</code></strong><code>&lt;font style=&quot;background-color:rgb(243, 245, 250);&quot;&gt;</code> 与客户端建立连接<code>&lt;/font&gt;</code></p><p><code>&lt;font style=&quot;color:rgb(6, 6, 7);&quot;&gt;</code>冷启动（Cold Start）通常指的是从零开始启动一个应用程序的过程。<code>&lt;/font&gt;</code></p>",6)),e[13]||(e[13]=t("details",{class:"lake-collapse"},[t("summary",{id:"uf09ad55f"},[t("span",{class:"ne-text"},"拓展")]),t("ol",{class:"ne-ol"},[t("li",{id:"u40d61968","data-lake-index-type":"0"},[t("strong",null,[t("span",{class:"ne-text",style:{color:"rgb(6, 6, 7)","font-size":"14px"}},"Vite")]),t("span",{class:"ne-text",style:{color:"rgb(6, 6, 7)","font-size":"14px"}},"：")])]),t("ul",{class:"ne-list-wrap"},[t("ul",{"ne-level":"1",class:"ne-ul"},[t("li",{id:"u4231ebe2","data-lake-index-type":"0"},[t("span",{class:"ne-text",style:{color:"rgb(6, 6, 7)","font-size":"14px"}},"Vite 是一个新型的前端构建工具，由 Vue.js 的作者尤雨溪创建。它利用了现代浏览器对 ES 模块（ESM）的支持，提供了快速的冷启动和热模块替换（HMR）。")]),t("li",{id:"ub7329bf2","data-lake-index-type":"0"},[t("span",{class:"ne-text",style:{color:"rgb(6, 6, 7)","font-size":"14px"}},"在开发环境下，Vite 充当一个开发服务器，直接利用浏览器对 ESM 的支持，按需编译模块，无需打包整个项目，从而实现了快速的服务器启动和响应。")]),t("li",{id:"u877c08cf","data-lake-index-type":"0"},[t("span",{class:"ne-text",style:{color:"rgb(6, 6, 7)","font-size":"14px"}},"在生产环境下，Vite 使用 Rollup 进行打包，生成高效的静态资源。Vite 还利用 esbuild 对不常变动的第三方依赖进行预构建，并进行缓存，以提高构建速度。")]),t("li",{id:"ud179db73","data-lake-index-type":"0"},[t("span",{class:"ne-text",style:{color:"rgb(6, 6, 7)","font-size":"14px"}},"Vite 的热更新实现是按需编译，按模块更新，而 Webpack 需要全部重新编译并更新 。")])])]),t("p",{id:"u5a6d0d76",class:"ne-p"},[t("br")]),t("p",{id:"u8757c191",class:"ne-p"},[t("span",{class:"ne-text"},"Vite 是一个现代化的前端构建工具，它通过利用浏览器原生的 ESModule 支持，提供了快速的开发服务器和优化的生产构建。下面是 Vite 的打包原理和一些关键特性：")]),t("ol",{class:"ne-ol"},[t("li",{id:"u8ee5feb6","data-lake-index-type":"0"},[t("strong",null,[t("span",{class:"ne-text"},"开发服务器")]),t("span",{class:"ne-text",style:{color:"var(--msh-chat-list-user-color)","background-color":"rgb(243, 245, 250)","font-size":"14px"}},"：Vite 在开发环境下不进行打包编译，而是启动一个本地的 "),t("code",{class:"ne-code"},[t("span",{class:"ne-text",style:{color:"var(--msh-chat-list-user-color)","background-color":"rgb(243, 245, 250)","font-size":"14px"}},"devServer")]),t("span",{class:"ne-text",style:{color:"var(--msh-chat-list-user-color)","background-color":"rgb(243, 245, 250)","font-size":"14px"}},"。当请求页面时，Vite 会根据请求动态编译和打包对应的模块，然后返回给浏览器。这种方式使得项目启动速度非常快，理论上与项目大小无关。")]),t("li",{id:"ub4863997","data-lake-index-type":"0"},[t("strong",null,[t("span",{class:"ne-text"},"利用 ESModule")]),t("span",{class:"ne-text",style:{color:"var(--msh-chat-list-user-color)","background-color":"rgb(243, 245, 250)","font-size":"14px"}},"：Vite 利用现代浏览器对 ESModule 语法的支持，避免了传统打包工具的静态打包和编译，从而提高了开发效率和构建速度。")]),t("li",{id:"u410f688b","data-lake-index-type":"0"},[t("strong",null,[t("span",{class:"ne-text"},"生产打包")]),t("span",{class:"ne-text",style:{color:"var(--msh-chat-list-user-color)","background-color":"rgb(243, 245, 250)","font-size":"14px"}},"：在生产环境下，Vite 使用 Rollup 进行打包。Rollup 是一个基于 ESModule 的打包器，它生成的打包文件通常比 Webpack 小，且打包速度快。")]),t("li",{id:"ub63391d5","data-lake-index-type":"0"},[t("strong",null,[t("span",{class:"ne-text"},"依赖预构建")]),t("span",{class:"ne-text",style:{color:"var(--msh-chat-list-user-color)","background-color":"rgb(243, 245, 250)","font-size":"14px"}},"：Vite 在预构建阶段使用 esbuild 将依赖中的 CommonJS、UMD 等模块化规范转换为 ESM，以提供给浏览器。这样可以减少模块请求次数，提高网络加载性能。")]),t("li",{id:"u8d6f0c7e","data-lake-index-type":"0"},[t("strong",null,[t("span",{class:"ne-text"},"按需加载")]),t("span",{class:"ne-text",style:{color:"var(--msh-chat-list-user-color)","background-color":"rgb(243, 245, 250)","font-size":"14px"}},"：Vite 实现了真正的按需加载，服务器只在接受到 "),t("code",{class:"ne-code"},[t("span",{class:"ne-text",style:{color:"var(--msh-chat-list-user-color)","background-color":"rgb(243, 245, 250)","font-size":"14px"}},"import")]),t("span",{class:"ne-text",style:{color:"var(--msh-chat-list-user-color)","background-color":"rgb(243, 245, 250)","font-size":"14px"}}," 请求时才会编译对应的文件，并将 ESM 源码返回给浏览器。")]),t("li",{id:"u0734353a","data-lake-index-type":"0"},[t("strong",null,[t("span",{class:"ne-text"},"缓存策略")]),t("span",{class:"ne-text",style:{color:"var(--msh-chat-list-user-color)","background-color":"rgb(243, 245, 250)","font-size":"14px"}},"：Vite 利用 HTTP 缓存和文件系统缓存来提升性能。依赖部分使用强缓存，源码部分使用协商缓存，以提升页面打开速度。")]),t("li",{id:"u749f1fd8","data-lake-index-type":"0"},[t("strong",null,[t("span",{class:"ne-text"},"重写模块路径")]),t("span",{class:"ne-text",style:{color:"var(--msh-chat-list-user-color)","background-color":"rgb(243, 245, 250)","font-size":"14px"}},"：Vite 使用 "),t("code",{class:"ne-code"},[t("span",{class:"ne-text",style:{color:"var(--msh-chat-list-user-color)","background-color":"rgb(243, 245, 250)","font-size":"14px"}},"es-module-lexer")]),t("span",{class:"ne-text",style:{color:"var(--msh-chat-list-user-color)","background-color":"rgb(243, 245, 250)","font-size":"14px"}}," 扫描 "),t("code",{class:"ne-code"},[t("span",{class:"ne-text",style:{color:"var(--msh-chat-list-user-color)","background-color":"rgb(243, 245, 250)","font-size":"14px"}},"import")]),t("span",{class:"ne-text",style:{color:"var(--msh-chat-list-user-color)","background-color":"rgb(243, 245, 250)","font-size":"14px"}}," 语法，并通过 "),t("code",{class:"ne-code"},[t("span",{class:"ne-text",style:{color:"var(--msh-chat-list-user-color)","background-color":"rgb(243, 245, 250)","font-size":"14px"}},"magic-string")]),t("span",{class:"ne-text",style:{color:"var(--msh-chat-list-user-color)","background-color":"rgb(243, 245, 250)","font-size":"14px"}}," 重写模块的引入路径，以适应浏览器的模块加载方式。")]),t("li",{id:"u1ce2473f","data-lake-index-type":"0"},[t("strong",null,[t("span",{class:"ne-text"},"热更新")]),t("span",{class:"ne-text",style:{color:"var(--msh-chat-list-user-color)","background-color":"rgb(243, 245, 250)","font-size":"14px"}},"：Vite 通过 WebSocket 与客户端建立连接，实现热模块替换（HMR）。当文件被修改时，服务器会通知客户端进行相应的代码更新。")]),t("li",{id:"uf618ebb8","data-lake-index-type":"0"},[t("strong",null,[t("span",{class:"ne-text"},"配置简洁")]),t("span",{class:"ne-text",style:{color:"var(--msh-chat-list-user-color)","background-color":"rgb(243, 245, 250)","font-size":"14px"}},"：Vite 的配置非常简洁，可以轻松地配置和定制，提供了一个易于使用的 CLI，可以轻松地创建和管理 Vite 项目。")]),t("li",{id:"u9087a21a","data-lake-index-type":"0"},[t("strong",null,[t("span",{class:"ne-text"},"社区支持")]),t("span",{class:"ne-text",style:{color:"var(--msh-chat-list-user-color)","background-color":"rgb(243, 245, 250)","font-size":"14px"}},"：Vite 拥有庞大的社区支持，有许多开源项目和插件可供使用，满足用户的不同需求。")])]),t("p",{id:"uc9b5da35",class:"ne-p"},[t("span",{class:"ne-text",style:{color:"var(--msh-chat-list-user-color)","background-color":"rgb(243, 245, 250)","font-size":"14px"}},"总的来说，Vite 的打包原理主要依赖于现代浏览器对 ESModule 的支持，通过动态编译和打包以及优化的缓存策略，提供了快速的开发体验和高效的生产构建。")]),t("p",{id:"u47984af5",class:"ne-p"},[t("span",{class:"ne-text",style:{color:"rgb(6, 6, 7)","background-color":"rgb(243, 245, 250)","font-size":"14px"}},[t("br")])])],-1))])}const x=n(p,[["render",u],["__file","Vite 打包.html.vue"]]),y=JSON.parse('{"path":"/posts/Web/%E6%89%93%E5%8C%85%E5%B7%A5%E5%85%B7/Vite%20%E6%89%93%E5%8C%85.html","title":"Vite 打包工具","lang":"zh-CN","frontmatter":{"title":"Vite 打包工具","icon":"dabaogongju","date":"2023-05-06T00:00:00.000Z","category":["打包工具"],"tag":["前端开发"],"dir":{"order":3},"description":"总结 ******** <font style=\\"color:rgb(6, 6, 7);\\">开发环境下: Vite 充当一个开发服务器，直接利用浏览器对 ESM 的支持, 通过动态编译</font><font style=\\"background-color:rgb(243, 245, 250);\\">动和打包对应的模块</font> <font styl...","head":[["meta",{"property":"og:url","content":"https://weijordan.com/posts/Web/%E6%89%93%E5%8C%85%E5%B7%A5%E5%85%B7/Vite%20%E6%89%93%E5%8C%85.html"}],["meta",{"property":"og:site_name","content":"Mr.子冥"}],["meta",{"property":"og:title","content":"Vite 打包工具"}],["meta",{"property":"og:description","content":"总结 ******** <font style=\\"color:rgb(6, 6, 7);\\">开发环境下: Vite 充当一个开发服务器，直接利用浏览器对 ESM 的支持, 通过动态编译</font><font style=\\"background-color:rgb(243, 245, 250);\\">动和打包对应的模块</font> <font styl..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://cdn.nlark.com/yuque/0/2024/png/45821596/1728974050160-49e6c562-b193-44ed-a110-54e4bfed197b.png"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-10-22T01:17:53.000Z"}],["meta",{"property":"article:author","content":"子冥"}],["meta",{"property":"article:tag","content":"前端开发"}],["meta",{"property":"article:published_time","content":"2023-05-06T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-10-22T01:17:53.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Vite 打包工具\\",\\"image\\":[\\"https://cdn.nlark.com/yuque/0/2024/png/45821596/1728974050160-49e6c562-b193-44ed-a110-54e4bfed197b.png\\"],\\"datePublished\\":\\"2023-05-06T00:00:00.000Z\\",\\"dateModified\\":\\"2024-10-22T01:17:53.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"子冥\\",\\"url\\":\\"https://weijordan.com\\"}]}"]]},"headers":[],"git":{"createdTime":1729559873000,"updatedTime":1729559873000,"contributors":[{"name":"weijordan","email":"12012972+weijordan@user.noreply.gitee.com","commits":1}]},"readingTime":{"minutes":6.87,"words":2062},"filePathRelative":"posts/Web/打包工具/Vite 打包.md","localizedDate":"2023年5月6日","excerpt":"<figure><img src=\\"https://cdn.nlark.com/yuque/0/2024/png/45821596/1728974050160-49e6c562-b193-44ed-a110-54e4bfed197b.png\\" alt=\\"\\" tabindex=\\"0\\" loading=\\"lazy\\"><figcaption></figcaption></figure>\\n<h2></h2>\\n<h2>总结</h2>\\n********\\n<p><code>&lt;font style=\\"color:rgb(6, 6, 7);\\"&gt;</code>开发环境下: Vite 充当一个开发服务器，直接利用浏览器对 ESM 的支持, 通过动态编译<code>&lt;/font&gt;&lt;font style=\\"background-color:rgb(243, 245, 250);\\"&gt;</code>动和打包对应的模块<code>&lt;/font&gt;</code></p>","autoDesc":true}');export{x as comp,y as data};
