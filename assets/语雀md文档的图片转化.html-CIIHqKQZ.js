import{_ as n,r as i,o as l,c as p,a as s,d as r,w as B,e as o,b as e}from"./app-Pmc0CBCy.js";const k={},d={class:"hint-container info"},t=s("p",{class:"hint-container-title"},"相关信息",-1),c=o(`<p>打开控制台</p><p>python3 <a href="http://main.py" target="_blank" rel="noopener noreferrer">main.py</a> fileName 就行</p><p><a href="https://www.yuque.com/attachments/yuque/0/2024/py/45821596/1729675444109-e349fc00-f953-4199-a21e-1c1e4e6e7196.py" target="_blank" rel="noopener noreferrer">main.py</a></p><div class="language-javascript line-numbers-mode" data-ext="javascript" data-title="javascript"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">import</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> re</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">import</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> requests</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">import</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> os</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">import</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> sys</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">yuque_cdn_domain</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> = </span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;cdn.nlark.com&#39;</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">output_content</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> = []</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">image_file_prefix</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> = </span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;image-&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">def</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> main</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">():</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    fileName</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> = </span><span style="color:#E06C75;--shiki-dark:#E06C75;">sys</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#E06C75;--shiki-dark:#E06C75;">argv</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">[1] + </span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;.md&#39;</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    filepath</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> = </span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;D:/yuque_change/yuque-md-img-handle-master/md/&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">  # </span><span style="color:#E06C75;--shiki-dark:#E06C75;">直接指向</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> md</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> 文件夹</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    # </span><span style="color:#E06C75;--shiki-dark:#E06C75;">filepath</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> = </span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;/Users/yang/SoftWare/knowledge-base/docs/yuque/&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> + </span><span style="color:#E06C75;--shiki-dark:#E06C75;">sys</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#E06C75;--shiki-dark:#E06C75;">argv</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">[1] + </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;/&quot;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    # </span><span style="color:#E06C75;--shiki-dark:#E06C75;">origin_md_path</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> = </span><span style="color:#E06C75;--shiki-dark:#E06C75;">sys</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#E06C75;--shiki-dark:#E06C75;">argv</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">[1]</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    origin_md_path</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> = </span><span style="color:#E06C75;--shiki-dark:#E06C75;">filepath</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> + </span><span style="color:#E06C75;--shiki-dark:#E06C75;">fileName</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    # </span><span style="color:#E06C75;--shiki-dark:#E06C75;">output_md_path</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> = </span><span style="color:#E06C75;--shiki-dark:#E06C75;">sys</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#E06C75;--shiki-dark:#E06C75;">argv</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">[2]</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    output_md_path</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> = </span><span style="color:#E06C75;--shiki-dark:#E06C75;">filepath</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> + </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;new_&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> + </span><span style="color:#E06C75;--shiki-dark:#E06C75;">fileName</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    # </span><span style="color:#E06C75;--shiki-dark:#E06C75;">image_dir</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> = </span><span style="color:#E06C75;--shiki-dark:#E06C75;">sys</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#E06C75;--shiki-dark:#E06C75;">argv</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">[3]</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    image_dir</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> = </span><span style="color:#E06C75;--shiki-dark:#E06C75;">filepath</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> + </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;images/&quot;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    # </span><span style="color:#E06C75;--shiki-dark:#E06C75;">image_url_prefix</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> = </span><span style="color:#E06C75;--shiki-dark:#E06C75;">sys</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#E06C75;--shiki-dark:#E06C75;">argv</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">[4]</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    image_url_prefix</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> = </span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;./images/&#39;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    # </span><span style="color:#E06C75;--shiki-dark:#E06C75;">image_rename_mode</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> = </span><span style="color:#E06C75;--shiki-dark:#E06C75;">sys</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#E06C75;--shiki-dark:#E06C75;">argv</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">[5] # </span><span style="color:#E06C75;--shiki-dark:#E06C75;">raw</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> asc</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    image_rename_mode</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> = </span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;raw&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> # </span><span style="color:#E06C75;--shiki-dark:#E06C75;">raw</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> asc</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    mkdir</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E06C75;--shiki-dark:#E06C75;">image_dir</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    cnt</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> = </span><span style="color:#E06C75;--shiki-dark:#E06C75;">handler</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E06C75;--shiki-dark:#E06C75;">origin_md_path</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="color:#E06C75;--shiki-dark:#E06C75;">output_md_path</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="color:#E06C75;--shiki-dark:#E06C75;">image_dir</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="color:#E06C75;--shiki-dark:#E06C75;">image_url_prefix</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="color:#E06C75;--shiki-dark:#E06C75;">image_rename_mode</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    print</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;处理完成, 共{}张图片&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#E06C75;--shiki-dark:#E06C75;">format</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E06C75;--shiki-dark:#E06C75;">cnt</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">))</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    print</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;准备删除语雀导出的原始文件{}&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#E06C75;--shiki-dark:#E06C75;">format</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E06C75;--shiki-dark:#E06C75;">fileName</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">))</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    os</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#E06C75;--shiki-dark:#E06C75;">remove</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E06C75;--shiki-dark:#E06C75;">origin_md_path</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    print</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;删除语雀导出的原始文件成功&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    # </span><span style="color:#E06C75;--shiki-dark:#E06C75;">重命名文件</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    os</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#E06C75;--shiki-dark:#E06C75;">rename</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E06C75;--shiki-dark:#E06C75;">output_md_path</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="color:#E06C75;--shiki-dark:#E06C75;">origin_md_path</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">def</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> mkdir</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E06C75;--shiki-dark:#E06C75;">image_dir</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">):</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    isExists</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> = </span><span style="color:#E06C75;--shiki-dark:#E06C75;">os</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#E06C75;--shiki-dark:#E06C75;">path</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#E06C75;--shiki-dark:#E06C75;">exists</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E06C75;--shiki-dark:#E06C75;">image_dir</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    if</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> isExists</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">        print</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;图片存储目录已存在&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    else</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">        os</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#E06C75;--shiki-dark:#E06C75;">makedirs</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E06C75;--shiki-dark:#E06C75;">image_dir</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">        print</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;图片存储目录创建成功&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">def</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> handler</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E06C75;--shiki-dark:#E06C75;">origin_md_path</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="color:#E06C75;--shiki-dark:#E06C75;">output_md_path</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="color:#E06C75;--shiki-dark:#E06C75;">image_dir</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="color:#E06C75;--shiki-dark:#E06C75;">image_url_prefix</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="color:#E06C75;--shiki-dark:#E06C75;">image_rename_mode</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">):</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    idx</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> = 0</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    with</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> open</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E06C75;--shiki-dark:#E06C75;">origin_md_path</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;r&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="color:#E06C75;--shiki-dark:#E06C75;">encoding</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">=</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;utf-8&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="color:#E06C75;--shiki-dark:#E06C75;">errors</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">=</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;ignore&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#E06C75;--shiki-dark:#E06C75;">as</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> f</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">        for</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> line</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> in</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> f</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#E06C75;--shiki-dark:#E06C75;">readlines</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">():</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">            line</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> = </span><span style="color:#E06C75;--shiki-dark:#E06C75;">re</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#E06C75;--shiki-dark:#E06C75;">sub</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E06C75;--shiki-dark:#E06C75;">r</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;png#(.*)+&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;png)&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="color:#E06C75;--shiki-dark:#E06C75;">line</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">            image_url</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> = </span><span style="color:#E06C75;--shiki-dark:#E06C75;">str</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E06C75;--shiki-dark:#E06C75;">re</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#E06C75;--shiki-dark:#E06C75;">findall</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E06C75;--shiki-dark:#E06C75;">r</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;http[s]?://(?:[a-zA-Z]|[0-9]|[$-_@.&amp;+]|[!*</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">\\(\\)</span><span style="color:#98C379;--shiki-dark:#98C379;">,]|(?:%[0-9a-fA-F][0-9a-fA-F]))+&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span style="color:#E06C75;--shiki-dark:#E06C75;">line</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">))</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">            if</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> yuque_cdn_domain</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> in</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> image_url</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">                image_url</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> = </span><span style="color:#E06C75;--shiki-dark:#E06C75;">image_url</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#E06C75;--shiki-dark:#E06C75;">replace</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;(&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">).</span><span style="color:#E06C75;--shiki-dark:#E06C75;">replace</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;)&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">).</span><span style="color:#E06C75;--shiki-dark:#E06C75;">replace</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;[&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">).</span><span style="color:#E06C75;--shiki-dark:#E06C75;">replace</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;]&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">).</span><span style="color:#E06C75;--shiki-dark:#E06C75;">replace</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;&#39;&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">                if</span><span style="color:#98C379;--shiki-dark:#98C379;"> &#39;.png&#39;</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> in</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> image_url</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">                    suffix</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> = </span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;.png&#39;</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">                elif</span><span style="color:#98C379;--shiki-dark:#98C379;"> &#39;.jpeg&#39;</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> in</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> image_url</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">                    suffix</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> = </span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;.jpeg&#39;</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">                download_image</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E06C75;--shiki-dark:#E06C75;">image_url</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="color:#E06C75;--shiki-dark:#E06C75;">image_dir</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="color:#E06C75;--shiki-dark:#E06C75;">image_rename_mode</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="color:#E06C75;--shiki-dark:#E06C75;">idx</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="color:#E06C75;--shiki-dark:#E06C75;">suffix</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">                to_replace</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> = </span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;/&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#E06C75;--shiki-dark:#E06C75;">join</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E06C75;--shiki-dark:#E06C75;">image_url</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#E06C75;--shiki-dark:#E06C75;">split</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;/&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)[:-1])</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">                new_image_url</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> = </span><span style="color:#E06C75;--shiki-dark:#E06C75;">image_url</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#E06C75;--shiki-dark:#E06C75;">replace</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E06C75;--shiki-dark:#E06C75;">to_replace</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;placeholder&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">                if</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> image_rename_mode</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> == </span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;asc&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">                    new_image_url</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> = </span><span style="color:#E06C75;--shiki-dark:#E06C75;">image_url_prefix</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> + </span><span style="color:#E06C75;--shiki-dark:#E06C75;">image_file_prefix</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> + </span><span style="color:#E06C75;--shiki-dark:#E06C75;">str</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E06C75;--shiki-dark:#E06C75;">idx</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) + </span><span style="color:#E06C75;--shiki-dark:#E06C75;">suffix</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">                else</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">                    new_image_url</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> = </span><span style="color:#E06C75;--shiki-dark:#E06C75;">new_image_url</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#E06C75;--shiki-dark:#E06C75;">replace</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;placeholder/&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span style="color:#E06C75;--shiki-dark:#E06C75;">image_url_prefix</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">                idx</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> += 1</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">                line</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> = </span><span style="color:#E06C75;--shiki-dark:#E06C75;">line</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#E06C75;--shiki-dark:#E06C75;">replace</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E06C75;--shiki-dark:#E06C75;">image_url</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="color:#E06C75;--shiki-dark:#E06C75;">new_image_url</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">            output_content</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#E06C75;--shiki-dark:#E06C75;">append</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E06C75;--shiki-dark:#E06C75;">line</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    with</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> open</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E06C75;--shiki-dark:#E06C75;">output_md_path</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;w&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="color:#E06C75;--shiki-dark:#E06C75;">encoding</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">=</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;utf-8&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="color:#E06C75;--shiki-dark:#E06C75;">errors</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">=</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;ignore&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#E06C75;--shiki-dark:#E06C75;">as</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> f</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">        for</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> _output_content</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> in</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> output_content</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">            f</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#E06C75;--shiki-dark:#E06C75;">write</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E06C75;--shiki-dark:#E06C75;">str</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E06C75;--shiki-dark:#E06C75;">_output_content</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">))</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    return</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> idx</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">            </span></span>
<span class="line"></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">def</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> download_image</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E06C75;--shiki-dark:#E06C75;">image_url</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="color:#E06C75;--shiki-dark:#E06C75;">image_dir</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="color:#E06C75;--shiki-dark:#E06C75;">image_name_mode</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="color:#E06C75;--shiki-dark:#E06C75;">idx</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="color:#E06C75;--shiki-dark:#E06C75;">suffix</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">):</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    r</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> = </span><span style="color:#E06C75;--shiki-dark:#E06C75;">requests</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#E06C75;--shiki-dark:#E06C75;">get</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E06C75;--shiki-dark:#E06C75;">image_url</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="color:#E06C75;--shiki-dark:#E06C75;">stream</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">=</span><span style="color:#E06C75;--shiki-dark:#E06C75;">True</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    image_name</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> = </span><span style="color:#E06C75;--shiki-dark:#E06C75;">image_url</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#E06C75;--shiki-dark:#E06C75;">split</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;/&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)[-1]</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    if</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> image_name_mode</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> == </span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;asc&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">        image_name</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> = </span><span style="color:#E06C75;--shiki-dark:#E06C75;">image_file_prefix</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> + </span><span style="color:#E06C75;--shiki-dark:#E06C75;">str</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E06C75;--shiki-dark:#E06C75;">idx</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) + </span><span style="color:#E06C75;--shiki-dark:#E06C75;">suffix</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    if</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> r</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#E06C75;--shiki-dark:#E06C75;">status_code</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> == 200:</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">        open</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E06C75;--shiki-dark:#E06C75;">image_dir</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">+</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;/&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">+</span><span style="color:#E06C75;--shiki-dark:#E06C75;">image_name</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;wb&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">).</span><span style="color:#E06C75;--shiki-dark:#E06C75;">write</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E06C75;--shiki-dark:#E06C75;">r</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#E06C75;--shiki-dark:#E06C75;">content</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    del</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> r</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">if</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> __name__</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> == </span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;__main__&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    main</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">()</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><a href="https://www.yuque.com/attachments/yuque/0/2024/md/45821596/1729676185636-c582382b-360b-4f43-8af3-67c91c20c554.md" target="_blank" rel="noopener noreferrer">README.md</a></p><div class="language-javascript" data-ext="javascript" data-title="javascript"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"># </span><span style="color:#E06C75;--shiki-dark:#E06C75;">yuque</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">-</span><span style="color:#E06C75;--shiki-dark:#E06C75;">md</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">-</span><span style="color:#E06C75;--shiki-dark:#E06C75;">img</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">-</span><span style="color:#E06C75;--shiki-dark:#E06C75;">handle</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">语雀导出markdown之后</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">，</span><span style="color:#E06C75;--shiki-dark:#E06C75;">图片链接仍然指向语雀的CDN</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">，</span><span style="color:#E06C75;--shiki-dark:#E06C75;">如果我们想发布到别的平台或者本地离线查看的话</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">，</span><span style="color:#E06C75;--shiki-dark:#E06C75;">不太方便</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">。</span><span style="color:#E06C75;--shiki-dark:#E06C75;">使用本工具可以将图片下载灵活存储到本地后</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">，</span><span style="color:#E06C75;--shiki-dark:#E06C75;">对应修改markdown文件中的链接指向</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">。</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">支持上传的图片</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E06C75;--shiki-dark:#E06C75;">png</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">和生成的思维导图</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E06C75;--shiki-dark:#E06C75;">jpeg</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)。</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"># </span><span style="color:#E06C75;--shiki-dark:#E06C75;">用法</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">基础</span></span>
<span class="line"></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">\`\`\`shell</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">python3 main.py fileName</span></span></code></pre></div><blockquote><ol><li>首先将下载的语雀原始md文件放在D:/yuque_change/yuque-md-img-handle-master/md/下 路径可以在main.py文件中修改</li><li>执行 python3 <a href="http://main.py" target="_blank" rel="noopener noreferrer">main.py</a> fileName</li><li>main会将原始md文件中的图片爬去下来，存放的路径是原始文件所在的文件夹下的images目录下</li><li>并且在此目录下生成一个名为new_fileName.md的文件，该文件里边的图片指向就是刚才爬去的图片</li><li>至此就可以完成需求。。。。</li><li>但是我为了方便，生成新文件后，我将原始文件删除，并把新文件改名成原始的文件名</li><li>这样就做到将语雀导出的md文件中的图片转换处成本地指向的路径</li></ol></blockquote><p>示例</p><div class="language-" data-ext="" data-title=""><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span>python3 D:/yuque_change/yuque-md-img-handle-master/main.py fileName</span></span></code></pre></div><p>如果没有安装python环境,</p><p>打开通过百度网盘分享的文件：python</p><p>链接：<a href="https://pan.baidu.com/s/1nEvDrNWvT4LICmoCCxyv6A?pwd=tw1o" target="_blank" rel="noopener noreferrer">https://pan.baidu.com/s/1nEvDrNWvT4LICmoCCxyv6A?pwd=tw1o</a></p><p>提取码：tw1o</p><p>进行安装</p><p>视频教程:<a href="https://www.bilibili.com/video/BV1ey411h7Wd?spm_id_from=player_end_recommend_autoplay&amp;vd_source=ac6ab4c3cdc5d0193edf55fd77ba0b4f" target="_blank" rel="noopener noreferrer">PyThon环境搭建</a></p>`,15);function h(y,C){const a=i("font");return l(),p("div",null,[s("div",d,[t,r(a,{style:{color:"rgb(64, 72, 91)"}},{default:B(()=>[e("语雀导出markdown之后，图片链接仍然指向语雀的CDN，如果我们想发布到别的平台或者本地离线查看的话，不太方便。使用本工具可以将图片下载灵活存储到本地后，对应修改markdown文件中的链接指向。支持上传的图片(png)和生成的思维导图(jpeg)")]),_:1})]),c])}const A=n(k,[["render",h],["__file","语雀md文档的图片转化.html.vue"]]),F=JSON.parse('{"path":"/posts/Python/%E8%AF%AD%E9%9B%80md%E6%96%87%E6%A1%A3%E7%9A%84%E5%9B%BE%E7%89%87%E8%BD%AC%E5%8C%96.html","title":"语雀md文档的图片转化","lang":"zh-CN","frontmatter":{"title":"语雀md文档的图片转化","icon":"tool","subtitle":"python","date":"2024-10-23T10:52:27.000Z","isOriginal":true,"category":["python"],"tag":["工具脚本"],"description":"相关信息 打开控制台 python3 main.py fileName 就行 main.py README.md 首先将下载的语雀原始md文件放在D:/yuque_change/yuque-md-img-handle-master/md/下 路径可以在main.py文件中修改 执行 python3 main.py fileName main会将原始md...","head":[["meta",{"property":"og:url","content":"https://weijodan.top/posts/Python/%E8%AF%AD%E9%9B%80md%E6%96%87%E6%A1%A3%E7%9A%84%E5%9B%BE%E7%89%87%E8%BD%AC%E5%8C%96.html"}],["meta",{"property":"og:site_name","content":"Mr.子冥"}],["meta",{"property":"og:title","content":"语雀md文档的图片转化"}],["meta",{"property":"og:description","content":"相关信息 打开控制台 python3 main.py fileName 就行 main.py README.md 首先将下载的语雀原始md文件放在D:/yuque_change/yuque-md-img-handle-master/md/下 路径可以在main.py文件中修改 执行 python3 main.py fileName main会将原始md..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-10-23T10:33:41.000Z"}],["meta",{"property":"article:author","content":"子冥"}],["meta",{"property":"article:tag","content":"工具脚本"}],["meta",{"property":"article:published_time","content":"2024-10-23T10:52:27.000Z"}],["meta",{"property":"article:modified_time","content":"2024-10-23T10:33:41.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"语雀md文档的图片转化\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2024-10-23T10:52:27.000Z\\",\\"dateModified\\":\\"2024-10-23T10:33:41.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"子冥\\",\\"url\\":\\"https://weijodan.top\\"}]}"]]},"headers":[],"git":{"createdTime":1729679621000,"updatedTime":1729679621000,"contributors":[{"name":"weijordan","email":"12012972+weijordan@user.noreply.gitee.com","commits":1}]},"readingTime":{"minutes":2.89,"words":866},"filePathRelative":"posts/Python/语雀md文档的图片转化.md","localizedDate":"2024年10月23日","excerpt":"<div class=\\"hint-container info\\">\\n<p class=\\"hint-container-title\\">相关信息</p>\\n</div>\\n<p>打开控制台</p>\\n<p>python3 <a href=\\"http://main.py\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">main.py</a> fileName  就行</p>\\n<p><a href=\\"https://www.yuque.com/attachments/yuque/0/2024/py/45821596/1729675444109-e349fc00-f953-4199-a21e-1c1e4e6e7196.py\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">main.py</a></p>","autoDesc":true}');export{A as comp,F as data};
