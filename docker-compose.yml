# version: '3'  # docker-compose的版本

services:
  blog_plus: # 服务名称
    image: weijordan/blog_plus:latest # 镜像名称
    container_name: blog_plus # 容器名称
    ports:
      - "3002:80"  # 将容器的80端口映射到宿主机的8080端口
    volumes:
      - /myDocker/blog_plus:/app  # 将宿主机的/data/blog_plus目录映射到容器内的/app目录
    # environment:
    #   - EXAMPLE_VAR=example_value  # 如果需要，设置环境变量
    restart: unless-stopped # 容器退出时总是重启
    networks:
      - webnet # 加入网络

networks:
  webnet: # 定义网络
  # 使用外部网络，如果存在则使用，不存在则创建
    # external: true # 外部网络
    # name: nginx_proxy # 网络名称
    # 如果不存在则创建网络
    # driver: bridge # 网络类型


  # 运行容器
  # docker-compose up -d
  # 检查运行情况
  # docker-compose ps
  # 停止并移除容器
  # docker-compose down
  # 停止容器
  # docker-compose stop
  # 启动容器
  # docker-compose start
  # 重启容器
  # docker-compose restart
